"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _useDocusaurusContext = _interopRequireDefault(require("@docusaurus/useDocusaurusContext"));

var _postmanCollection = _interopRequireDefault(require("@paloaltonetworks/postman-collection"));

var _hooks = require("../../ApiItem/hooks");

var _Accept = _interopRequireDefault(require("../Accept"));

var _Authorization = _interopRequireDefault(require("../Authorization"));

var _Body = _interopRequireDefault(require("../Body"));

var _Execute = _interopRequireDefault(require("../Execute"));

var _ParamOptions = _interopRequireDefault(require("../ParamOptions"));

var _Server = _interopRequireDefault(require("../Server"));

var _stylesModule = _interopRequireDefault(require("./styles.module.css"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* ============================================================================
 * Copyright (c) Palo Alto Networks
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 * ========================================================================== */
function Request({
  item
}) {
  var _item$parameters;

  const response = (0, _hooks.useTypedSelector)(state => state.response.value);
  const {
    siteConfig
  } = (0, _useDocusaurusContext.default)();
  const themeConfig = siteConfig.themeConfig;
  const options = themeConfig.api;
  const postman = new _postmanCollection.default.Request(item.postman);
  const params = {
    path: [],
    query: [],
    header: [],
    cookie: []
  };
  (_item$parameters = item.parameters) === null || _item$parameters === void 0 ? void 0 : _item$parameters.forEach(param => {
    const paramType = param.in;
    const paramsArray = params[paramType];
    paramsArray.push(param);
  });
  return <div>
      <details className={`details__demo-panel`} open={response ? false : true}>
        <summary>
          <div className={`details__request-summary`}>
            <h4>Request</h4>
            {item.servers && <_Execute.default postman={postman} proxy={options === null || options === void 0 ? void 0 : options.proxy} />}
          </div>
        </summary>
        <div className={_stylesModule.default.optionsPanel}>
          <_Server.default />
          <_Authorization.default />
          <_ParamOptions.default />
          <_Body.default jsonRequestBodyExample={item.jsonRequestBodyExample} requestBodyMetadata={item.requestBody} />
          <_Accept.default />
        </div>
      </details>
    </div>;
}

var _default = Request;
exports.default = _default;