---
title: 自成交攔截
sidebar_label: 自成交攔截
---

## 什麼是自成交？
提供自成交攔截(Self Match Prevention)功能，用戶在下單時可以選擇執行方式。當交易對手為相同的UID或屬於相同指定的SMP群組時，可按照以下方式進行執行：
1. 取消maker單：當執行時取消maker訂單，但taker訂單仍保留。
2. 取消taker單：當執行時取消taker訂單，但taker訂單仍保留。
3. 兩者皆取消：當執行時取消taker單和maker單。

## 什麼是SMP交易群組?
* 任何用戶都可使用SMP功能，僅單UID維度。
* SMP交易群組管理功能目前僅適用於機構。

**SMP交易群組**：指一組UID。當此群組中的任何UID下單並選擇SMP執行政策時，只要該群組中任何UID的限價單被匹配，就會觸發SMP執行政策。

**更多細節**：
1. 每個UID只能加入一個SMP交易群組。

2. SMP交易群組是UID級別的管理群組，因此當主帳戶加入SMP交易群組時，所有屬於該主帳戶的子帳戶也會自動加入該交易群組。

<ul>
    <li>
        如果主帳戶已經加入某個SMP交易群組，則在其之後創建子帳戶，這個新的子帳戶將自動默認加入相同的SMP交易群組。
    </li>
    <li>
        子帳戶不必與主帳戶綁定到相同的SMP交易群組。這只是自動加入相同群組的默認機制。如果真的需要，可以手動重置為不同的群組。
    </li>
</ul>

3. SMP交易群組和UID之間的關聯可以更改，例如UID加入新的SMP交易群組或從SMP交易群組中刪除，這將不會影響現有的訂單，而僅會影響關係更改後新下的訂單

**注意**:
基於這點，我們強烈建議在SMP交易群組發生變更時，最好取消所有現有訂單，以避免意外執行。

4. SMP交易群組在SMP執行中具有較高優先級，當任何一方沒有群組時，UID才會生效。

**示例**：<br/>
1月1日：UID1加入SMP交易群組A，並下訂單1；<br/>
1月2日：UID1被從SMP交易群組A中移除，但訂單1仍然處於活躍狀態且為“新”狀態。
  - 情況1：如果UID1加入了SMP交易群組B並下了訂單2，如果訂單2與訂單1相符，它將被執行，因為它們屬於兩個不同的群組。
  - 情況2：如果UID1在被從SMP交易群組A中移除後沒有加入任何其他群組並下了訂單2，如果訂單2與訂單1相符，SMP將被觸發，因為UID1在下訂單2時沒有群組，所以SMP在UID級別（同一個UID1）被觸發。

## 如何管理我的UID及SMP交易群組?
您可以聯繫您的機構業務經理或通過電子郵件聯繫Bybit，電子郵件地址為: institutional_services@bybit.com

## 支持的OpenAPI版本和產品線
|產品線 |支持的OpenAPI版本 |說明|
|:----|:--------|:------|
|現貨|V3 (普通帳戶)<br/>V5 (統一帳戶&普通帳戶)| |
|合約|合約V3 (普通帳戶): USDT永續 / 反向永續&交割<br/>V5 (統一帳戶): USDT永續 / 反向永續&交割 / USDC永續 & 交割<br/>V5 (普通帳戶): USDT永續 / 反向永續 & 交割|  |
|期權|V5 (統一帳戶)|V1有基於UID維度的SMP功能 |