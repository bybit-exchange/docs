---
title: 查詢ADL告警
sidebar_label: 查詢ADL告警
sidebar_position: 18
---

查詢按組劃分保險池 ADL 告警及相關資訊  
> **覆蓋範圍：USDT 永續 / USDT 交割 / USDC 永續 / USDC 交割 / 反向合約**

:::info
- **ADL 觸發與停止條件基於以下三種情況：**

1. **合約盈虧回撤 ADL**  
   - **觸發條件**:  
     `balance` 保險基金餘額 > `adlTriggerThreshold`（合約盈虧回撤 ADL 的觸發閾值），且 `pnlRatio`（symbol 在 8 小時內的回撤比例） < `insurancePnlRatio`（觸發 ADL 的盈虧比例閾值）  
   - **停止條件**:  
     `pnlRatio`（symbol 在 8 小時內的回撤比例） > `adlStopRatio`（ADL 停止回撤比例閾值）  

2. **保險池整體淨值 (equity)**  
   - **觸發條件**:  
     `balance` 保險基金餘額 ≤ 0  
   - **停止條件**:  
     `balance` 保險基金餘額 > 0  

3. **`symbol` 交易對在分組資金池中出現過於劇烈的保證金虧損**  
   - 為確保資金池整體安全性，風控團隊可將該幣對自分組資金池中移出，並臨時設立為獨立保險池  
   - **觸發條件**:  
     `balance` 保險基金餘額 ≤ 0  
   - **停止條件**:  
     `balance` 保險基金餘額 > 0  
:::

### HTTP 請求
GET `/v5/market/adlAlert`

### 請求參數
| 參數   | 是否必需 | 類型   | 說明 |
|:-------|:---------|:-------|------|
|symbol  | false    | string | 合約名稱，例如 `BTCUSDT`，僅限大寫 |

### 響應參數
| 參數 | 類型 | 說明 |
|:----- |:-----|----- |
|updateTime | string | 數據最近更新的時間戳 (毫秒) |
|list | array | Object |
|> coin | string | 保險池所屬幣種 |
|> symbol | string | 交易對名稱 |
|> balance | string | 保險基金餘額，用於判斷是否觸發 ADL |
|> maxBalance | string | 最近 8 小時內的保險池最大餘額 |
|> insurancePnlRatio | string | 觸發 **合約盈虧回撤 ADL** 的盈虧比例閾值 <li>當 symbol 在 8 小時內的盈虧回撤比例大於該值時，觸發 ADL</li> |
|> pnlRatio | string | `symbol` 在 8 小時內的回撤比例，用於判斷 ADL 是否觸發或停止 |
|> adlTriggerThreshold | string | **合約盈虧回撤 ADL** 的觸發閾值 <li>僅當保險池餘額大於該值時，8 小時內回撤 n% 的觸發條件才會生效</li> |
|> adlStopRatio | string | **合約盈虧回撤 ADL** 的停止比例閾值 <li>當 symbol 在 8 小時內的回撤比例小於該值時，ADL 停止</li> |

---

### 請求示例

<Tabs groupId="programming-languages">
<TabItem value="http" label="HTTP">

```http
GET /v5/market/adlAlert&symbol=BTCUSDT HTTP/1.1
Host: api-testnet.bybit.com
```

</TabItem>
<TabItem value="python" label="Python">

```python

```

</TabItem>
<TabItem value="Go" label="Go">

```go

```

</TabItem>
<TabItem value="java" label="Java">

```java

```

</TabItem>
<TabItem value="Node" label="Node.js">

```n4js

```

</TabItem>
</Tabs>

### 響應示例

```json
{
    "retCode": 0,
    "retMsg": "OK",
    "result": {
        "updatedTime": "1757733960000",
        "list": [
            {
                "coin": "USDT",
                "symbol": "BTCUSDT",
                "balance": "92203504694.99632",
                "maxBalance": "92231510324.75948",
                "insurancePnlRatio": "-0.3",
                "pnlRatio": "-0.560973",
                "adlTriggerThreshold": "10000",
                "adlStopRatio": "-0.25"
            }
        ]
    },
    "retExtInfo": {},
    "time": 1757734022014
}
```
