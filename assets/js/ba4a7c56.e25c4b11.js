"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[8849],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,k=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(k,o(o({ref:t},c),{},{components:n})):a.createElement(k,o({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},36100:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const i={title:"API Broker Integration Documentation",sidebar_label:"API Broker Integration Documentation"},o=void 0,l={unversionedId:"v5/broker/api-broker/guidance",id:"v5/broker/api-broker/guidance",title:"API Broker Integration Documentation",description:"Application Process",source:"@site/docs/v5/broker/api-broker/guidance.mdx",sourceDirName:"v5/broker/api-broker",slug:"/v5/broker/api-broker/guidance",permalink:"/docs/v5/broker/api-broker/guidance",draft:!1,tags:[],version:"current",frontMatter:{title:"API Broker Integration Documentation",sidebar_label:"API Broker Integration Documentation"},sidebar:"v5SideBar",previous:{title:"Bind Or Unbind UID",permalink:"/docs/v5/otc/bind-uid"},next:{title:"Get Earning",permalink:"/docs/v5/broker/exchange-broker/exchange-earning"}},s={},p=[{value:"<strong>Application Process</strong>",id:"application-process",level:3},{value:"- <strong>Information Submission</strong>",id:"--information-submission",level:3},{value:"- <strong>Business Initialization</strong>",id:"--business-initialization",level:3},{value:"<strong>API</strong><br/>",id:"api",level:3},{value:"1. Construct Authorization Page",id:"1-construct-authorization-page",level:3},{value:"2. Authorization Success Callback",id:"2-authorization-success-callback",level:3},{value:"3. Obtain Access Token",id:"3-obtain-access-token",level:3},{value:"Request Example",id:"request-example",level:3},{value:"Response Example",id:"response-example",level:3},{value:"4. Obtain OpenAPI",id:"4-obtain-openapi",level:3},{value:"Request Example",id:"request-example-1",level:3},{value:"Response Example",id:"response-example-1",level:3}],c={toc:p};function u(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"application-process"},(0,r.kt)("strong",{parentName:"h3"},"Application Process")),(0,r.kt)("h3",{id:"--information-submission"},"- ",(0,r.kt)("strong",{parentName:"h3"},"Information Submission")),(0,r.kt)("p",null,"Submit the following information to Bybit Business:",(0,r.kt)("br",null),"  "),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Bybit UID (used to log in to the OAuth management backend)",(0,r.kt)("br",null),"  "),(0,r.kt)("li",{parentName:"ol"},"OpenAPI whitelist IP (only applicable to OpenAPI; the OAuth management backend has no IP restrictions)",(0,r.kt)("br",null),"  ")),(0,r.kt)("h3",{id:"--business-initialization"},"- ",(0,r.kt)("strong",{parentName:"h3"},"Business Initialization")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Log in to Bybit using the corresponding UID.",(0,r.kt)("br",null),"  "),(0,r.kt)("li",{parentName:"ol"},"Visit ",(0,r.kt)("a",{parentName:"li",href:"https://www.bybit.com/app/user/oauth-admin"},"https://www.bybit.com/app/user/oauth-admin"),"  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Configure Application Name, Email, upload logo, etc."),(0,r.kt)("br",null),(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("img",{src:n(5601).Z,width:"456",height:"561"}),(0,r.kt)("br",null),"  "))),(0,r.kt)("li",{parentName:"ol"},"Core parameter ",(0,r.kt)("inlineCode",{parentName:"li"},"redirect_uri"),": Multiple callback addresses can be configured. The ",(0,r.kt)("inlineCode",{parentName:"li"},"redirect_uri")," passed when invoking the page must be configured in the management backend. If the passed value does not match the configuration, it will default to the first address.",(0,r.kt)("br",null),"  "),(0,r.kt)("li",{parentName:"ol"},"After successful application, you will receive ",(0,r.kt)("inlineCode",{parentName:"li"},"client_id")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"client_secret"),". Please securely store this information and do not share it with others.  ")),(0,r.kt)("h3",{id:"api"},(0,r.kt)("strong",{parentName:"h3"},"API"),(0,r.kt)("br",null)),(0,r.kt)("h3",{id:"1-construct-authorization-page"},"1. Construct Authorization Page"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"https://www.bybit.com/en/oauth?client_id={client_id}&response_type=code&redirect_uri={redirect_uri}&scope=openapi&state={state}  \n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"client_id")),(0,r.kt)("td",{parentName:"tr",align:null},"Obtained after merchant initialization")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"response_type")),(0,r.kt)("td",{parentName:"tr",align:null},"Fixed value: ",(0,r.kt)("inlineCode",{parentName:"td"},"code"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"scope")),(0,r.kt)("td",{parentName:"tr",align:null},"Pass ",(0,r.kt)("inlineCode",{parentName:"td"},"openapi"),"; other values require confirmation with Bybit")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"state")),(0,r.kt)("td",{parentName:"tr",align:null},"Random string")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"redirect_uri")),(0,r.kt)("td",{parentName:"tr",align:null},"The address to redirect to after user authorization; must be configured in the management backend")))),(0,r.kt)("h3",{id:"2-authorization-success-callback"},"2. Authorization Success Callback"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"After the user confirms authorization, the page will redirect (301) to `redirect_uri` with the parameter `code`. \nAssuming `redirect_uri` is `https://www.example.com/callback`,  \nthe callback URL will be: `https://www.example.com/callback/?response_type=code&code=sSn87036PCFub1g0FGigexSjT&scope=openapi&state=1234abc`  \n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"code")),(0,r.kt)("td",{parentName:"tr",align:null},"Core parameter; used by the merchant backend to obtain ",(0,r.kt)("inlineCode",{parentName:"td"},"access_token"))))),(0,r.kt)("h3",{id:"3-obtain-access-token"},"3. Obtain Access Token"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"URL: ",(0,r.kt)("a",{parentName:"li",href:"https://api2.bybit.com/oauth/v1/public/access_token"},"https://api2.bybit.com/oauth/v1/public/access_token"),"  "),(0,r.kt)("li",{parentName:"ul"},"Method: POST  ")),(0,r.kt)("h3",{id:"request-example"},"Request Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"curl -v  -X POST {url} \\\n  -H 'Content-Type: application/x-www-form-urlencoded'\n  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36'  \\     # Use browser agent\n  -d 'client_id={client_id}' \\\n  -d 'client_secret={client_secret}'\\\n  -d 'code={code}'    # Code can only be used once \n")),(0,r.kt)("h3",{id:"response-example"},"Response Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjcwODM5NDEsIkNsaWVudElEIjoiQThmMzNFeEVTeEhjIiwiR3JhbnRNZW1iZXJJRCI6MTA2MzEwNzQxLCJBcHByb3ZlZFNjb3BlIjpbIm9wZW5hcGkiXSwiTm9uY2UiOiJPNmZ0QkdTYVdEIn0.Vq46cxPIzKmWz5fFwU4fQuF-IDqFJDOIelNLnH8r2Oo",\n    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3Njk1ODk1NDEsIkNsaWVudElEIjoiQThmMzNFeEVTeEhjIiwiR3JhbnRNZW1iZXJJRCI6MTA2MzEwNzQxLCJBcHByb3ZlZFNjb3BlIjpbIm9wZW5hcGkiXSwiTm9uY2UiOiIwaVZMWVY3Z1pGIn0.ByGH8d5XtSQnkbxeyiXd56iJUTddBWjqFK8_EcAw48w",\n    "token_type": "bearer",\n    "expires_in": 86400,\n    "refresh_token_expires_in": 2592000\n} \n')),(0,r.kt)("h3",{id:"4-obtain-openapi"},"4. Obtain OpenAPI"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"URL: ",(0,r.kt)("a",{parentName:"li",href:"https://api2.bybit.com/oauth/v1/resource/restrict/openapi"},"https://api2.bybit.com/oauth/v1/resource/restrict/openapi"),"  "),(0,r.kt)("li",{parentName:"ul"},"Method: GET  "),(0,r.kt)("li",{parentName:"ul"},'Include the Authorization header in the request, formatted as "Bearer {access_token}". For example, if ',(0,r.kt)("inlineCode",{parentName:"li"},'access_token = "12345"'),", then ",(0,r.kt)("inlineCode",{parentName:"li"},'Authorization = "Bearer 12345"'),".  ")),(0,r.kt)("h3",{id:"request-example-1"},"Request Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'curl {url} \\  \n-H "Authorization: Bearer {access_token}"  \n')),(0,r.kt)("h3",{id:"response-example-1"},"Response Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{  \n    "ret_code": 0,  \n    "ret_msg": "success",  \n    "result": {  \n        "api_key": "xxxxxxx",  \n        "api_secret": "xxxxx"  \n    }  \n}  \n')))}u.isMDXComponent=!0},5601:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Oauth-61411466311c501e0dd950c94a852baf.PNG"}}]);