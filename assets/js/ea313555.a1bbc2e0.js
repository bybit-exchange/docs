"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[7937],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(a),h=r,m=p["".concat(l,".").concat(h)]||p[h]||d[h]||o;return a?n.createElement(m,i(i({ref:t},u),{},{components:a})):n.createElement(m,i({ref:t},u))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},50510:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const o={title:"Frequently Asked Questions",slug:"/faq"},i=void 0,s={unversionedId:"faq",id:"faq",title:"Frequently Asked Questions",description:"Where are Bybit's servers located?",source:"@site/docs/faq.mdx",sourceDirName:".",slug:"/faq",permalink:"/docs/faq",draft:!1,tags:[],version:"current",frontMatter:{title:"Frequently Asked Questions",slug:"/faq"}},l={},c=[{value:"Where are Bybit&#39;s servers located?",id:"where-are-bybits-servers-located",level:3},{value:"<code>reduceOnly</code> and <code>closeOnTrigger</code> - what&#39;s the difference?",id:"reduceonly-and-closeontrigger---whats-the-difference",level:3},{value:"Why I get 10003 API key is invalid?",id:"why-i-get-10003-api-key-is-invalid",level:3},{value:"Why aren&#39;t all my orders showing on the website?",id:"why-arent-all-my-orders-showing-on-the-website",level:3},{value:"Calculating order size based on available wallet balance",id:"calculating-order-size-based-on-available-wallet-balance",level:3},{value:"Can I exchange assets with the API?",id:"can-i-exchange-assets-with-the-api",level:3},{value:"Can I crypto loan with the API?",id:"can-i-crypto-loan-with-the-api",level:3},{value:"How do I get funds for testnet?",id:"how-do-i-get-funds-for-testnet",level:3},{value:"Why are my Closed PNL prices inaccurate?",id:"why-are-my-closed-pnl-prices-inaccurate",level:3},{value:"How can I ensure I am using up-to-date data?",id:"how-can-i-ensure-i-am-using-up-to-date-data",level:3},{value:"What is the difference between turnover and volume?",id:"what-is-the-difference-between-turnover-and-volume",level:3},{value:"Why is the price returned in the place market order response wrong?",id:"why-is-the-price-returned-in-the-place-market-order-response-wrong",level:3},{value:"How can I process WebSocket <code>snapshot</code> and <code>delta</code> messages?",id:"how-can-i-process-websocket-snapshot-and-delta-messages",level:3},{value:"Why is the balance sufficient but Withdrawal or Transfer reports insufficient balance?",id:"why-is-the-balance-sufficient-but-withdrawal-or-transfer-reports-insufficient-balance",level:3}],u={toc:c};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"where-are-bybits-servers-located"},"Where are Bybit's servers located?"),(0,r.kt)("p",null,"AWS Singapore, ",(0,r.kt)("a",{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-availability-zones"},"Availability Zone")," ID apse1-az3."),(0,r.kt)("h3",{id:"reduceonly-and-closeontrigger---whats-the-difference"},(0,r.kt)("inlineCode",{parentName:"h3"},"reduceOnly")," and ",(0,r.kt)("inlineCode",{parentName:"h3"},"closeOnTrigger")," - what's the difference?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"To close your position, submit an order and specify ",(0,r.kt)("inlineCode",{parentName:"li"},"reduceOnly")," to true. ",(0,r.kt)("inlineCode",{parentName:"li"},"closeOnTrigger")," is not strictly applicable here, but you can also set it to true if it's required."),(0,r.kt)("li",{parentName:"ul"},"reduceOnly is the one that really matters for closing position, and we will improve the interface in the future."),(0,r.kt)("li",{parentName:"ul"},"Be careful when you specify closeOnTrigger to true as it could cause conflict when reduceOnly is false.")),(0,r.kt)("h3",{id:"why-i-get-10003-api-key-is-invalid"},"Why I get 10003 API key is invalid?"),(0,r.kt)("p",null,"The most likely cause is that the key used does not match the domain name:",(0,r.kt)("br",null),"\na. When request to api.bybit.com or stream.bybit.com, make sure the api key is created from ",(0,r.kt)("a",{parentName:"p",href:"https://www.bybit.com"},"Prodution"),"\n",(0,r.kt)("img",{alt:"production",src:a(2723).Z,width:"3826",height:"1200"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'# pybit example\nsession = HTTP(\n    testnet=False,\n    api_key="XXXXX",\n    api_secret="XXXXX",\n)\n')),(0,r.kt)("hr",null),(0,r.kt)("p",null,"b. When request to api-demo.bybit.com or stream-demo.bybit.com, make sure the api key is created from ",(0,r.kt)("a",{parentName:"p",href:"https://www.bybit.com"},"Production")," - ",(0,r.kt)("strong",{parentName:"p"},"demo trading"),"\n",(0,r.kt)("img",{alt:"prod-demo",src:a(72808).Z,width:"3826",height:"1068"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'# pybit example\nsession = HTTP(\n    testnet=False,\n    demo=True,\n    api_key="XXXXX",\n    api_secret="XXXXX",\n)\n')),(0,r.kt)("hr",null),(0,r.kt)("p",null,"c. When request to api-testnet.bybit.com or stream-testnet.bybit.com, make sure the api key is created from ",(0,r.kt)("a",{parentName:"p",href:"https://testnet.bybit.com"},"Testnet"),"\n",(0,r.kt)("img",{alt:"test",src:a(43934).Z,width:"3836",height:"1140"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'# pybit example\nsession = HTTP(\n    testnet=True,\n    demo=False,\n    api_key="XXXXX",\n    api_secret="XXXXX",\n)\n')),(0,r.kt)("hr",null),(0,r.kt)("p",null,"d. ",(0,r.kt)("strong",{parentName:"p"},"Do not")," use Testnet - Demo trading service, it is pointless\n",(0,r.kt)("img",{alt:"test-demo",src:a(38944).Z,width:"3838",height:"1068"})),(0,r.kt)("h3",{id:"why-arent-all-my-orders-showing-on-the-website"},"Why aren't all my orders showing on the website?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Users who have bots which place large numbers of laddered orders will be restricted by the frontend interface, which only shows a maximum of 50 orders on-screen."),(0,r.kt)("li",{parentName:"ul"},"Don't worry, your orders are still in the system and can be queried by the API, but the frontend cannot show more than 50.")),(0,r.kt)("h3",{id:"calculating-order-size-based-on-available-wallet-balance"},"Calculating order size based on available wallet balance"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Your order size is limited by order cost, which should be below or equal to your available balance. You can learn more here: ",(0,r.kt)("a",{href:"https://www.bybit.com/en/help-center/article/Order-Cost-USDT-Contract"},"Order Cost (Perpetuals & Futures Trading)")),(0,r.kt)("li",{parentName:"ul"},"The approximate formula for buy orders: ",(0,r.kt)("inlineCode",{parentName:"li"},"contract_quantity = available_balance / (order_price * (1 / leverage + taker_fee_rate * (2 - 1 / leverage)))")),(0,r.kt)("li",{parentName:"ul"},"The approximate formula for sell orders: ",(0,r.kt)("inlineCode",{parentName:"li"},"contract_quantity = available_balance / (order_price * (1 / leverage + taker_fee_rate * (2 + 1 / leverage)))")),(0,r.kt)("li",{parentName:"ul"},"Unfortunately this is not a perfectly accurate formula; the real calculation is complex and may be published in the docs at a later date.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"order_price")," - price of a limit order, or your entry price with market order (LTP) - can be found with the ",(0,r.kt)("a",{parentName:"li",href:"/v5/market/tickers#"},"Tickers"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"available_balance")," - can be found with the ",(0,r.kt)("a",{parentName:"li",href:"/v5/account/wallet-balance#"},"Get Wallet Balance")," endpoint."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"leverage")," - up to the respective maximum leverage for the market and your risk limit (eg 2, 10, 50)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"taker_fee_rate")," - real number, representing the fee. It is 0.1 for 10%, 0.001 for 0.1%, 0.0018 for 0.18%, and so on.")))),(0,r.kt)("h3",{id:"can-i-exchange-assets-with-the-api"},"Can I exchange assets with the API?"),(0,r.kt)("p",null,"Yes, ",(0,r.kt)("a",{parentName:"p",href:"/v5/asset/convert/guideline"},"convert API"),", but currently there is no API to convert small balances to MNT"),(0,r.kt)("h3",{id:"can-i-crypto-loan-with-the-api"},"Can I crypto loan with the API?"),(0,r.kt)("p",null,"Yes, ",(0,r.kt)("a",{parentName:"p",href:"/v5/crypto-loan/collateral-coin"},"crypto loan API")),(0,r.kt)("h3",{id:"how-do-i-get-funds-for-testnet"},"How do I get funds for testnet?"),(0,r.kt)("p",null,"To get testnet funds, just go to master account asset page to request."),(0,r.kt)("h3",{id:"why-are-my-closed-pnl-prices-inaccurate"},"Why are my Closed PNL prices inaccurate?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"entryPrice")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"exitPrice")," returned by Closed PNL endpoints are not the actual execution prices of the orders."),(0,r.kt)("li",{parentName:"ul"},"It is based on the total costs of the order\n(whether or not the position was only opened/closed by one order executed at one price - it is more complicated if multiple orders opened/closed a position.)"),(0,r.kt)("li",{parentName:"ul"},"For instance, the entry_price and exit_price reported by this endpoint are influenced by the fee paid/received on the orders.")),(0,r.kt)("h3",{id:"how-can-i-ensure-i-am-using-up-to-date-data"},"How can I ensure I am using up-to-date data?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"It is possible, although unlikely, that the REST API or (even less likely) the websocket could return/push old data."),(0,r.kt)("li",{parentName:"ul"},"For the greatest level of data resilience, we recommend clients to:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"firstly, rely on the websocket, which will not only ensure you get the latest data as fast as possible, but will also ensure you get complete data"),(0,r.kt)("li",{parentName:"ul"},"secondly, query the REST API to fill in any discrepencies in data - or between websocket disconnections."))),(0,r.kt)("li",{parentName:"ul"},"The best practice is to save all of this data locally in your own database or cache."),(0,r.kt)("li",{parentName:"ul"},"This frees up your rate limits for other requests and also ensures a level of redundancy against the exchange in case of data delays.")),(0,r.kt)("h3",{id:"what-is-the-difference-between-turnover-and-volume"},"What is the difference between turnover and volume?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Turnover"),": is in the opposite currency to the quantity's currency"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Volume"),": is in the same currency as the quantity's currency")),(0,r.kt)("h3",{id:"why-is-the-price-returned-in-the-place-market-order-response-wrong"},"Why is the price returned in the place market order response wrong?"),(0,r.kt)("p",null,'Market orders are (in the backend) just limit orders submitted at a worse price. This is to reduce the chance of a flash crash or a similar event, where a trader might submit a market order which executes at a significantly worse price than they expected it to. The price returned here is that internal limit order price. This "inaccurate" price is returned because the place order endpoint is asynchronous, meaning the response is returned to you before the order is actually executed.'),(0,r.kt)("p",null,"If you want the true execution price (",(0,r.kt)("inlineCode",{parentName:"p"},"execPrice"),") you should subscribe to the ",(0,r.kt)("a",{parentName:"p",href:"https://bybit-exchange.github.io/docs/v5/websocket/private/execution"},"execution websocket"),"."),(0,r.kt)("h3",{id:"how-can-i-process-websocket-snapshot-and-delta-messages"},"How can I process WebSocket ",(0,r.kt)("inlineCode",{parentName:"h3"},"snapshot")," and ",(0,r.kt)("inlineCode",{parentName:"h3"},"delta")," messages?"),(0,r.kt)("p",null,"Please refer to the orderbook topic's ",(0,r.kt)("a",{parentName:"p",href:"https://bybit-exchange.github.io/docs/v5/websocket/public/orderbook"},"documentation"),"."),(0,r.kt)("p",null,"Note that if you're using pybit, it handles these messages for you and always delivers a complete orderbook. Working code examples:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/bybit-exchange/pybit/blob/867ee0f001bf7a2afc17113a434a7b1dad235674/pybit/_websocket_stream.py#L361"},"Python"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"_process_delta_orderbook()")," method within pybit (the Python SDK)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/orderbooks"},"Node.js"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"orderbooks"),", a library made by the creator of bybit-api (the Node.js SDK)")),(0,r.kt)("h3",{id:"why-is-the-balance-sufficient-but-withdrawal-or-transfer-reports-insufficient-balance"},"Why is the balance sufficient but Withdrawal or Transfer reports insufficient balance?"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Scenario Reproduction:")," when the master account encounters error code 131001 (\u201cWithdrawal amount is greater than your available balance (XXXX USDT)\u201d) during withdrawal, or when transferring\nfunds from a sub-account to the master account, encounters 131228 (\u201cYour balance is not enough\u201d), but calling ",(0,r.kt)("a",{parentName:"p",href:"/v5/asset/balance/all-balance"},"Get All Coins Balance")," shows that ",(0,r.kt)("inlineCode",{parentName:"p"},"transferBalance")," is sufficient."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},'/v5/asset/transfer/query-account-coins-balance?accountType=FUND\n{\n    "retCode": 0,\n    "retMsg": "success",\n    "result": {\n        "memberId": "247200692",\n        "accountType": "FUND",\n        "balance": [\n            {\n                "coin": "BTC",\n                "transferBalance": "0.06",\n                "walletBalance": "0.06",\n                "bonus": ""\n            }\n        ]\n    },\n    "retExtInfo": {},\n    "time": 1735189176388\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Reason:")," this occurs due to recent deposits to the master or sub-account, which lock the corresponding USD value.\nFor example, 1 ETH was deposited into the master account 5 minutes ago and immediately traded into 0.05 BTC. However,\ndue to the deposit risk not being fully released, this 0.05 BTC cannot be withdrawn. Similarly,\nif the deposit is made to a sub-account, the corresponding amount cannot be transferred to the master account.",(0,r.kt)("br",null),"\n",(0,r.kt)("strong",{parentName:"p"},"Recommendation:")," 1. If you need to confirm the available balance for withdrawal or transfer of a single currency, always use\n",(0,r.kt)("a",{parentName:"p",href:"/v5/asset/balance/account-coin-balance"},"Get Single Coin Balance"),". Additionally, ",(0,r.kt)("strong",{parentName:"p"},"institutional loan accounts")," transferring out of risk unit\nmay be affected by LTV and can use this API to query accurate transferable balances. See examples 4 and 5 below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"//Example 1: Query the withdrawal balance or transferable balance of a specific coin in a specific wallet of the current account.\nGET /v5/asset/transfer/query-account-coin-balance?accountType=XXX&coin=XXX&withTransferSafeAmount=1\nsee field `transferSafeAmount`\n\n//Example 2: Query the transferable balance of a specific coin to sub-accounts or other wallets within the account.\nGET /v5/asset/transfer/query-account-coin-balance?accountType=XXX&coin=XXX&withTransferSafeAmount=1\nsee field `transferBalance`\n\n//Example 3: Use the master account to query the transferable balance of a specific coin in a specific wallet of a sub-account.\nGET /v5/asset/transfer/query-account-coin-balance?memberId=XXX&accountType=XXX&coin=XXX&withTransferSafeAmount=1\n-> transfer to other sub-accounts or other wallets within the accounts: see field `transferBalance`\n-> transfer to master account: see field `transferSafeAmount`\n\n//Example 4: When transferring out of an institutional loan risk unit, the transferable balance under the LTV safety line (transfers within the account to funding wallets).\nGET /v5/asset/transfer/query-account-coin-balance?withLtvTransferSafeAmount=1&accountType=UNIFIED&toAccountType=FUND&coin=XXX\nsee field `ltvTransferSafeAmount`\n\n//Example 5: When transferring out of an institutional loan risk unit, the transferable balance under the LTV safety line (transfers to non-institutional loan accounts).\nGET /v5/asset/transfer/query-account-coin-balance?withLtvTransferSafeAmount=1&toMemberId=XXX&accountType=UNIFIED&toAccountType=FUND&coin=XXX&\nsee field `ltvTransferSafeAmount`\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"If you need to query the transferable balances of multiple coins simultaneously, use ",(0,r.kt)("a",{parentName:"li",href:"/v5/asset/balance/all-balance"},"Get All Coins Balance"),". However,\nif there are recent deposits, the returned ",(0,r.kt)("inlineCode",{parentName:"li"},"transferBalance")," field will be less than or equal to the actual withdrawal or transferable balance\nto the master account. Additionally, for institutional loan accounts transferring out of risk units, the result may also\nbe inaccurate. In such cases, refer to examples 4 and 5 in Recommendation 1.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"//Example 1: Query the balance of all coins in the funding wallet of the current account (after January 9, 2025, querying all coins will no longer be supported, and the coin parameter must be provided).\nGET /v5/asset/transfer/query-account-coins-balance?accountType=FUND\n\n//Example 2: Query the balance of specific coins in the unified wallet of the current account (after January 9, 2025, up to 10 coins can be queried).\nGET /v5/asset/transfer/query-account-coins-balance?accountType=UNIFIED&coin=USDT,ETH,BTC,USDC\n\n//Example 3: Query the balance of specific coins in the unified wallet of a specified sub-account.\nGET /v5/asset/transfer/query-account-coins-balance?memberId=XXX&accountType=UNIFIED&coin=USDT,ETH,BTC,USDC\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"If you need to know whether the master account has any unresolved deposit risks, use ",(0,r.kt)("a",{parentName:"li",href:"/v5/asset/balance/delay-amount"},"Get Withdrawable Amount"),". Check the ",(0,r.kt)("inlineCode",{parentName:"li"},"limitAmountUsd")," field:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},"GET /v5/asset/withdraw/withdrawable-amount?coin=XXX\n-> If it equals 0, it indicates that all deposit risks have been released.\n-> If it is not 0, it indicates that some assets, equivalent to the displayed USD value, still have unresolved risks.\n")))}d.isMDXComponent=!0},72808:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prd-demo-bd05d3b8bc94c0eee4d3f9d6b9db67be.png"},2723:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prd-164a2259ad614b8f50180f5b5bb40d09.png"},38944:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/test-demo-2c9ed2232a4104d268ab21b5b7d9360a.png"},43934:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/test-018822195409f01c548aba0c9b0cd0c8.png"}}]);