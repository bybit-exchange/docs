"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[8849],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=s(n),d=r,k=m["".concat(p,".").concat(d)]||m[d]||u[d]||i;return n?a.createElement(k,l(l({ref:t},c),{},{components:n})):a.createElement(k,l({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},36100:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const i={title:"OAuth Integration Guidance",sidebar_label:"OAuth Integration Guidance"},l="Application Process",o={unversionedId:"v5/broker/api-broker/guidance",id:"v5/broker/api-broker/guidance",title:"OAuth Integration Guidance",description:"1. Information Submission",source:"@site/docs/v5/broker/api-broker/guidance.mdx",sourceDirName:"v5/broker/api-broker",slug:"/v5/broker/api-broker/guidance",permalink:"/docs/v5/broker/api-broker/guidance",draft:!1,tags:[],version:"current",frontMatter:{title:"OAuth Integration Guidance",sidebar_label:"OAuth Integration Guidance"},sidebar:"v5SideBar",previous:{title:"Bind Or Unbind UID",permalink:"/docs/v5/otc/bind-uid"},next:{title:"Get Earning",permalink:"/docs/v5/broker/exchange-broker/exchange-earning"}},p={},s=[{value:"1. Information Submission",id:"1-information-submission",level:2},{value:"2. Merchant Initialization",id:"2-merchant-initialization",level:2},{value:"API Integration",id:"api-integration",level:2},{value:"1. Construct Authorization Page",id:"1-construct-authorization-page",level:3},{value:"2. Authorization Success Callback",id:"2-authorization-success-callback",level:3},{value:"3. Obtain Access Token",id:"3-obtain-access-token",level:3},{value:"Request Example",id:"request-example",level:4},{value:"Response Example",id:"response-example",level:4},{value:"4. Obtain OpenAPI",id:"4-obtain-openapi",level:3},{value:"Request Example",id:"request-example-1",level:4},{value:"Response Example",id:"response-example-1",level:4},{value:"Notes",id:"notes",level:3}],c={toc:s};function u(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"application-process"},"Application Process"),(0,r.kt)("h2",{id:"1-information-submission"},"1. Information Submission"),(0,r.kt)("p",null,"Submit the following information to Bybit Business via this Email: ",(0,r.kt)("inlineCode",{parentName:"p"},"broker_program@bybit.com"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Bybit UID"),": Used to log in to the OAuth management backend."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"OpenAPI Whitelist IP"),": Only applicable to OpenAPI; the OAuth management backend has no IP restrictions.")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"2-merchant-initialization"},"2. Merchant Initialization"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Log in to Bybit")," using the corresponding UID."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Access the OAuth Admin Portal"),":",(0,r.kt)("br",{parentName:"li"}),"Visit ",(0,r.kt)("a",{parentName:"li",href:"https://www.bybit.com/app/user/oauth-admin"},"https://www.bybit.com/app/user/oauth-admin"),"  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Configure ",(0,r.kt)("strong",{parentName:"li"},"Application Name"),", ",(0,r.kt)("strong",{parentName:"li"},"Email"),", upload ",(0,r.kt)("strong",{parentName:"li"},"logo"),", etc.",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("img",{src:n(10351).Z,width:"1386",height:"1620"})))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Core Parameter ",(0,r.kt)("inlineCode",{parentName:"strong"},"redirect_uri")),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Multiple callback addresses can be configured."),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"redirect_uri")," passed when invoking the page must be configured in the management backend."),(0,r.kt)("li",{parentName:"ul"},"If the passed value does not match the configuration, it defaults to the first address."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"After Successful Application"),":",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"You will receive ",(0,r.kt)("inlineCode",{parentName:"li"},"client_id")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"client_secret"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Important"),": Securely store this information and do not share it with others.")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"api-integration"},"API Integration"),(0,r.kt)("h3",{id:"1-construct-authorization-page"},"1. Construct Authorization Page"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://www.bybit.com/en/oauth?client_id={client_id}&response_type=code&redirect_uri={redirect_uri}&scope=openapi&state={state}\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"client_id")),(0,r.kt)("td",{parentName:"tr",align:null},"Obtained after merchant initialization.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"response_type")),(0,r.kt)("td",{parentName:"tr",align:null},"Fixed value: ",(0,r.kt)("inlineCode",{parentName:"td"},"code"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"scope")),(0,r.kt)("td",{parentName:"tr",align:null},"Pass ",(0,r.kt)("inlineCode",{parentName:"td"},"openapi"),"; other values require confirmation with Bybit.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"state")),(0,r.kt)("td",{parentName:"tr",align:null},"Random string.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"redirect_uri")),(0,r.kt)("td",{parentName:"tr",align:null},"The address to redirect to after user authorization; must be configured in the management backend.")))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"2-authorization-success-callback"},"2. Authorization Success Callback"),(0,r.kt)("p",null,"After the user confirms authorization, the page redirects (301) to ",(0,r.kt)("inlineCode",{parentName:"p"},"redirect_uri")," with the parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"code"),".",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"Example"),":",(0,r.kt)("br",{parentName:"p"}),"\n","If ",(0,r.kt)("inlineCode",{parentName:"p"},"redirect_uri = https://www.example.com/callback"),", the callback URL will be:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://www.example.com/callback/?response_type=code&code=sSn87036PCFub1g0FGigexSjT&scope=openapi&state=1234abc\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"code")),(0,r.kt)("td",{parentName:"tr",align:null},"Core parameter; used by the merchant backend to obtain ",(0,r.kt)("inlineCode",{parentName:"td"},"access_token"),".")))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"3-obtain-access-token"},"3. Obtain Access Token"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"https://api2.bybit.com/oauth/v1/public/access_token")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Method"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"POST"))),(0,r.kt)("h4",{id:"request-example"},"Request Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -v -X POST {url} \\\n  -H 'Content-Type: application/x-www-form-urlencoded' \\\n  -H 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \\\n  -d 'client_id={client_id}' \\\n  -d 'client_secret={client_secret}' \\\n  -d 'code={code}'    # Note: Code can only be used once.\n")),(0,r.kt)("h4",{id:"response-example"},"Response Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjcwODM5NDEsIkNsaWVudElEIjoiQThmMzNFeEVTeEhjIiwiR3JhbnRNZW1iZXJJRCI6MTA2MzEwNzQxLCJBcHByb3ZlZFNjb3BlIjpbIm9wZW5hcGkiXSwiTm9uY2UiOiJPNmZ0QkdTYVdEIn0.Vq46cxPIzKmWz5fFwU4fQuF-IDqFJDOIelNLnH8r2Oo",\n    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3Njk1ODk1NDEsIkNsaWVudElEIjoiQThmMzNFeEVTeEhjIiwiR3JhbnRNZW1iZXJJRCI6MTA2MzEwNzQxLCJBcHByb3ZlZFNjb3BlIjpbIm9wZW5hcGkiXSwiTm9uY2UiOiIwaVZMWVY3Z1pGIn0.ByGH8d5XtSQnkbxeyiXd56iJUTddBWjqFK8_EcAw48w",\n    "token_type": "bearer",\n    "expires_in": 86400,\n    "refresh_token_expires_in": 2592000\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"4-obtain-openapi"},"4. Obtain OpenAPI"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"https://api2.bybit.com/oauth/v1/resource/restrict/openapi")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Method"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"GET")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Authorization"),": Include the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization")," header formatted as ",(0,r.kt)("inlineCode",{parentName:"li"},'"Bearer {access_token}"'),".",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("strong",{parentName:"li"},"Example"),": If ",(0,r.kt)("inlineCode",{parentName:"li"},'access_token = "12345"'),", then ",(0,r.kt)("inlineCode",{parentName:"li"},'Authorization = "Bearer 12345"'),".")),(0,r.kt)("h4",{id:"request-example-1"},"Request Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl {url} \\\n  -H "Authorization: Bearer {access_token}"\n')),(0,r.kt)("h4",{id:"response-example-1"},"Response Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ret_code": 0,\n  "ret_msg": "success",\n  "result": {\n    "api_key": "xxxxxxx",\n    "api_secret": "xxxxx"\n  }\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"notes"},"Notes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"code")," parameter from the authorization callback is single-use and expires quickly."),(0,r.kt)("li",{parentName:"ul"},"Store ",(0,r.kt)("inlineCode",{parentName:"li"},"client_secret")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"api_secret")," securely and never expose them publicly.")))}u.isMDXComponent=!0},10351:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/oauth-redirect-url-c4a7907e15a702366f747de41cc92c00.jpg"}}]);