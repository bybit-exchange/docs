"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[2962],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>s});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),k=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):p(p({},t),e)),a},c=function(e){var t=k(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=k(a),s=r,d=m["".concat(o,".").concat(s)]||m[s]||u[s]||l;return a?n.createElement(d,p(p({ref:t},c),{},{components:a})):n.createElement(d,p({ref:t},c))}));function s(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,p=new Array(l);p[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:r,p[1]=i;for(var k=2;k<l;k++)p[k]=a[k];return n.createElement.apply(null,p)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},37864:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>p,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>k});var n=a(87462),r=(a(67294),a(3905));const l={title:"OAuth \u63a5\u5165\u6587\u6a94",sidebar_label:"OAuth \u63a5\u5165\u6587\u6a94"},p="\u7533\u8acb\u6d41\u7a0b",i={unversionedId:"v5/broker/api-broker/guidance",id:"v5/broker/api-broker/guidance",title:"OAuth \u63a5\u5165\u6587\u6a94",description:"1. \u4fe1\u606f\u63d0\u4ea4",source:"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/v5/broker/api-broker/guidance.mdx",sourceDirName:"v5/broker/api-broker",slug:"/v5/broker/api-broker/guidance",permalink:"/docs/zh-TW/v5/broker/api-broker/guidance",draft:!1,tags:[],version:"current",frontMatter:{title:"OAuth \u63a5\u5165\u6587\u6a94",sidebar_label:"OAuth \u63a5\u5165\u6587\u6a94"},sidebar:"v5SideBar",previous:{title:"\u9084\u6b3e",permalink:"/docs/zh-TW/v5/otc/repay"},next:{title:"\u67e5\u8a62\u8fd4\u4f63\u4fe1\u606f",permalink:"/docs/zh-TW/v5/broker/exchange-broker/exchange-earning"}},o={},k=[{value:"1. \u4fe1\u606f\u63d0\u4ea4",id:"1-\u4fe1\u606f\u63d0\u4ea4",level:2},{value:"2. \u5546\u6236\u521d\u59cb\u5316",id:"2-\u5546\u6236\u521d\u59cb\u5316",level:2},{value:"\u63a5\u53e3\u8abf\u8a66",id:"\u63a5\u53e3\u8abf\u8a66",level:2},{value:"1. \u62fc\u63a5\u6388\u6b0a\u9801\u9762",id:"1-\u62fc\u63a5\u6388\u6b0a\u9801\u9762",level:3},{value:"2. \u6388\u6b0a\u6210\u529f\u56de\u8abf",id:"2-\u6388\u6b0a\u6210\u529f\u56de\u8abf",level:3},{value:"3. \u7372\u53d6 access_token",id:"3-\u7372\u53d6-access_token",level:3},{value:"4. \u7372\u53d6 OpenAPI",id:"4-\u7372\u53d6-openapi",level:3},{value:"\u8acb\u6c42\u793a\u4f8b",id:"\u8acb\u6c42\u793a\u4f8b",level:4},{value:"\u97ff\u61c9\u793a\u4f8b",id:"\u97ff\u61c9\u793a\u4f8b",level:4},{value:"\u6ce8\u610f\u4e8b\u9805",id:"\u6ce8\u610f\u4e8b\u9805",level:3}],c={toc:k};function u(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u7533\u8acb\u6d41\u7a0b"},"\u7533\u8acb\u6d41\u7a0b"),(0,r.kt)("h2",{id:"1-\u4fe1\u606f\u63d0\u4ea4"},"1. \u4fe1\u606f\u63d0\u4ea4"),(0,r.kt)("p",null,"\u901a\u8fc7\u90ae\u7bb1\uff08",(0,r.kt)("a",{parentName:"p",href:"mailto:broker_program@bybit.com"},"broker_program@bybit.com"),"\uff09\u5411 Bybit \u5546\u52d9\u63d0\u4ea4\u4ee5\u4e0b\u4fe1\u606f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Bybit UID"),(0,r.kt)("br",{parentName:"p"}),"\n","\u7528\u65bc\u767b\u9678 OAuth \u7ba1\u7406\u5f8c\u53f0")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"OpenAPI \u767d\u540d\u55ae IP"),(0,r.kt)("br",{parentName:"p"}),"\n","\u50c5\u4f5c\u7528\u65bc OpenAPI\uff08OAuth \u7ba1\u7406\u5f8c\u53f0\u6c92\u6709 IP \u9650\u5236\uff09"))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"2-\u5546\u6236\u521d\u59cb\u5316"},"2. \u5546\u6236\u521d\u59cb\u5316"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u767b\u9678 Bybit"),(0,r.kt)("br",{parentName:"p"}),"\n","\u4f7f\u7528\u5c0d\u61c9\u7684 UID \u767b\u9678 Bybit \u8cec\u6236")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u8a2a\u554f\u7ba1\u7406\u5f8c\u53f0"),(0,r.kt)("br",{parentName:"p"}),"\n","\u6253\u958b\u9023\u7d50\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://www.bybit.com/app/user/oauth-admin"},"https://www.bybit.com/app/user/oauth-admin"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8a2d\u5b9a Application Name"),(0,r.kt)("li",{parentName:"ul"},"\u8a2d\u5b9a Email"),(0,r.kt)("li",{parentName:"ul"},"\u4e0a\u50b3 Logo"),(0,r.kt)("li",{parentName:"ul"},"\u5176\u4ed6\u76f8\u95dc\u64cd\u4f5c",(0,r.kt)("br",{parentName:"li"}),(0,r.kt)("img",{src:a(460).Z,width:"1386",height:"1620"})))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u6838\u5fc3\u53c3\u6578\u914d\u7f6e"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"redirect_uri"),"\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u8a2d\u5b9a\u591a\u500b\u56de\u8abf\u5730\u5740"),(0,r.kt)("li",{parentName:"ul"},"\u559a\u8d77\u9801\u9762\u50b3\u5165\u7684 redirect_uri \u5fc5\u9808\u5728\u7ba1\u7406\u5f8c\u53f0\u914d\u7f6e"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u50b3\u5165\u8207\u914d\u7f6e\u4e0d\u5339\u914d\uff0c\u9ed8\u8a8d\u8df3\u8f49\u5230\u7b2c\u4e00\u500b\u5730\u5740"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u7372\u53d6\u6191\u8b49"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7533\u8acb\u6210\u529f\u5f8c\uff0c\u6703\u6536\u5230 client_id \u548c client_secret"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u91cd\u8981"),"\uff1a\u8acb\u52d9\u5fc5\u59a5\u5584\u4fdd\u5b58\u6b64\u4fe1\u606f\uff0c\u4e0d\u8981\u5c0d\u4ed6\u4eba\u5c55\u793a")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u63a5\u53e3\u8abf\u8a66"},"\u63a5\u53e3\u8abf\u8a66"),(0,r.kt)("h3",{id:"1-\u62fc\u63a5\u6388\u6b0a\u9801\u9762"},"1. \u62fc\u63a5\u6388\u6b0a\u9801\u9762"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://www.bybit.com/en/oauth/en/oauth?\nclient_id={client_id}&\nresponse_type=code&\nredirect_uri={redirect_uri}&\nscope=openapi&\nstate={state}\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c3\u6578"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8aaa\u660e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u5099\u8a3b"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"client_id")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5546\u6236\u8eab\u4efd\u6a19\u8b58"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5546\u6236\u521d\u59cb\u5316\u5b8c\u6210\u5f8c\u7372\u5f97")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"response_type")),(0,r.kt)("td",{parentName:"tr",align:null},"\u97ff\u61c9\u985e\u578b"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56fa\u5b9a\u503c\uff1a",(0,r.kt)("inlineCode",{parentName:"td"},"code"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"scope")),(0,r.kt)("td",{parentName:"tr",align:null},"\u6b0a\u9650\u7bc4\u570d"),(0,r.kt)("td",{parentName:"tr",align:null},"\u50b3 ",(0,r.kt)("inlineCode",{parentName:"td"},"openapi"),"\uff08\u5176\u4ed6\u503c\u9700\u8207 Bybit \u78ba\u8a8d\uff09")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"state")),(0,r.kt)("td",{parentName:"tr",align:null},"\u72c0\u614b\u53c3\u6578"),(0,r.kt)("td",{parentName:"tr",align:null},"\u96a8\u6a5f\u5b57\u7b26\u4e32\uff0c\u9632 CSRF \u653b\u64ca")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"redirect_uri")),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u8abf\u5730\u5740"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5fc5\u9808\u5728\u7ba1\u7406\u5f8c\u53f0\u914d\u7f6e")))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"2-\u6388\u6b0a\u6210\u529f\u56de\u8abf"},"2. \u6388\u6b0a\u6210\u529f\u56de\u8abf"),(0,r.kt)("p",null,"\u7528\u6236\u78ba\u8a8d\u6388\u6b0a\u5f8c\uff0c\u9801\u9762\u5c07\u6703 301 \u91cd\u5b9a\u5411\u81f3 redirect_uri \u4e26\u651c\u5e36\u53c3\u6578 code"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u793a\u4f8b"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5047\u8a2d redirect_uri = https://www.example.com/callback\n# \u56de\u8abf\u5f8c\u7684 URL\uff1a\nhttps://www.example.com/callback/?\nresponse_type=code&\ncode=sSn87036PCFub1g0FGigexSjT&\nscope=openapi&\nstate=1234abc\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c3\u6578"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8aaa\u660e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7528\u9014"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"code")),(0,r.kt)("td",{parentName:"tr",align:null},"\u6388\u6b0a\u78bc"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6838\u5fc3\u53c3\u6578\uff0c\u7528\u65bc\u7372\u53d6 access_token")))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"3-\u7372\u53d6-access_token"},"3. \u7372\u53d6 access_token"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u63a5\u53e3\u4fe1\u606f"),"\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL"),": ",(0,r.kt)("a",{parentName:"li",href:"https://api2.bybit.com/oauth/v1/public/access_token"},"https://api2.bybit.com/oauth/v1/public/access_token")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u65b9\u6cd5"),": POST")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8acb\u6c42\u793a\u4f8b"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl -v -X POST {url} \\\n  -H 'Content-Type: application/x-www-form-urlencoded' \\\n  -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36' \\\n  -d 'client_id={client_id}' \\\n  -d 'client_secret={client_secret}' \\\n  -d 'code={code}'    # \u6ce8\u610f\uff1acode \u53ea\u80fd\u4f7f\u7528 1 \u6b21\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u97ff\u61c9\u793a\u4f8b"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "token_type": "bearer",\n  "expires_in": 86400,\n  "refresh_token_expires_in": 2592000\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"4-\u7372\u53d6-openapi"},"4. \u7372\u53d6 OpenAPI"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u63a5\u53e3\u4fe1\u606f"),"\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"URL"),": ",(0,r.kt)("a",{parentName:"li",href:"https://api2.bybit.com/oauth/v1/resource/restrict/openapi"},"https://api2.bybit.com/oauth/v1/resource/restrict/openapi")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u65b9\u6cd5"),": GET"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8a8d\u8b49"),": \u9700\u8981\u5728\u8acb\u6c42\u982d\u4e2d\u651c\u5e36 Authorization \u4fe1\u606f",(0,r.kt)("br",{parentName:"li"}),"\u683c\u5f0f\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Bearer {access_token}"),(0,r.kt)("br",{parentName:"li"}),"\u793a\u4f8b\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"Authorization: Bearer 12345"))),(0,r.kt)("h4",{id:"\u8acb\u6c42\u793a\u4f8b"},"\u8acb\u6c42\u793a\u4f8b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl {url} \\\n  -H "Authorization: Bearer {access_token}"\n')),(0,r.kt)("h4",{id:"\u97ff\u61c9\u793a\u4f8b"},"\u97ff\u61c9\u793a\u4f8b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "ret_code": 0,\n  "ret_msg": "success",\n  "result": {\n    "api_key": "xxxxxxx",\n    "api_secret": "xxxxx"\n  }\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"\u6ce8\u610f\u4e8b\u9805"},"\u6ce8\u610f\u4e8b\u9805"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5b89\u5168\u5b58\u5132"),(0,r.kt)("br",{parentName:"p"}),"\n","client_secret \u548c api_secret \u9700\u5b89\u5168\u5b58\u5132\uff0c\u5207\u52ff\u6cc4\u9732")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Code \u4f7f\u7528\u9650\u5236"),(0,r.kt)("br",{parentName:"p"}),"\n","\u6388\u6b0a\u78bc\uff08code\uff09\u70ba\u4e00\u6b21\u6027\u4f7f\u7528\uff0c\u8bf7\u5728\u6709\u6548\u6642\u9593\u5185\u4f7f\u7528")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u53c3\u6578\u914d\u7f6e\u9a57\u8b49"),(0,r.kt)("br",{parentName:"p"}),"\n","\u78ba\u4fdd\u6240\u6709\u53c3\u6578\uff08\u7279\u5225\u662f redirect_uri\uff09\u5df2\u5728\u7ba1\u7406\u5f8c\u53f0\u6b63\u78ba\u914d\u7f6e"))))}u.isMDXComponent=!0},460:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/oauth-redirect-url-c4a7907e15a702366f747de41cc92c00.jpg"}}]);