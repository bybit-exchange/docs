"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[8390],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),d=a,y=c["".concat(l,".").concat(d)]||c[d]||m[d]||i;return n?r.createElement(y,s(s({ref:t},u),{},{components:n})):r.createElement(y,s({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=c;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var p=2;p<i;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},40850:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const i={title:"\u73fe\u8ca8 DMM \u4e0a\u67b6\u6307\u5357",sidebar_label:"\u73fe\u8ca8 DMM \u4e0a\u67b6\u6307\u5357",sidebar_position:1},s=void 0,o={unversionedId:"institutional/dmm-listing/spot",id:"institutional/dmm-listing/spot",title:"\u73fe\u8ca8 DMM \u4e0a\u67b6\u6307\u5357",description:"\u5148\u6c7a\u689d\u4ef6",source:"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/institutional/dmm-listing/spot.mdx",sourceDirName:"institutional/dmm-listing",slug:"/institutional/dmm-listing/spot",permalink:"/docs/zh-TW/institutional/dmm-listing/spot",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"\u73fe\u8ca8 DMM \u4e0a\u67b6\u6307\u5357",sidebar_label:"\u73fe\u8ca8 DMM \u4e0a\u67b6\u6307\u5357",sidebar_position:1},sidebar:"institutionalDocsSidebar",previous:{title:"SBE Public Trade \u63a5\u5165\u6307\u5357",permalink:"/docs/zh-TW/institutional/sbe/public-trade"}},l={},p=[{value:"\u5148\u6c7a\u689d\u4ef6",id:"\u5148\u6c7a\u689d\u4ef6",level:2},{value:"\u53c3\u8003\u6587\u6a94:",id:"\u53c3\u8003\u6587\u6a94",level:3},{value:"1. REST \u2013 \u67e5\u8a62\u4ea4\u6613\u5c0d\u8cc7\u8a0a(\u73fe\u8ca8)",id:"1-rest--\u67e5\u8a62\u4ea4\u6613\u5c0d\u8cc7\u8a0a\u73fe\u8ca8",level:2},{value:"2. REST \u2013 \u4e0b PostOnly \u9650\u50f9\u55ae(\u73fe\u8ca8)",id:"2-rest--\u4e0b-postonly-\u9650\u50f9\u55ae\u73fe\u8ca8",level:2},{value:"3. WebSocket \u2013 \u9a57\u7c3d\u4e26\u4e0b\u73fe\u8ca8\u8a02\u55ae",id:"3-websocket--\u9a57\u7c3d\u4e26\u4e0b\u73fe\u8ca8\u8a02\u55ae",level:2},{value:"\u5efa\u8b70\u9a57\u8b49\u6aa2\u67e5\u6e05\u55ae (\u9069\u7528\u65bc DMM \u63a5\u5165)",id:"\u5efa\u8b70\u9a57\u8b49\u6aa2\u67e5\u6e05\u55ae-\u9069\u7528\u65bc-dmm-\u63a5\u5165",level:2},{value:"Pybit &amp; CCXT \u4f7f\u7528\u6280\u5de7",id:"pybit--ccxt-\u4f7f\u7528\u6280\u5de7",level:2},{value:"1. Pybit",id:"1-pybit",level:3},{value:"2. CCXT",id:"2-ccxt",level:3}],u={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u5148\u6c7a\u689d\u4ef6"},"\u5148\u6c7a\u689d\u4ef6"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u60a8\u7684 UID \u5df2\u52a0\u5165\u9810\u4e0a\u5e02/DMM \u4ea4\u6613\u5c0d\u7684\u767d\u540d\u55ae"),(0,a.kt)("li",{parentName:"ul"},"\u8a72 UID \u4e0b\u5df2\u5efa\u7acb API key \u8207 secret"),(0,a.kt)("li",{parentName:"ul"},"\u8a72\u5e63\u7a2e\u5df2\u914d\u7f6e\u5728\u6307\u5b9a\u7684 UID \u4e0b"),(0,a.kt)("li",{parentName:"ul"},"\u5c0d\u65bc\u73fe\u8ca8\u4e0a\u5e02\u4ea4\u6613\u5c0d, \u5fc5\u9808\u5148\u67e5\u8a62 ",(0,a.kt)("inlineCode",{parentName:"li"},"/v5/market/instruments-info"),", \u4e26\u5e36\u5165:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"category=spot"),(0,a.kt)("li",{parentName:"ul"},"symbol=<SYMBOL_NAME>")))),(0,a.kt)("h3",{id:"\u53c3\u8003\u6587\u6a94"},"\u53c3\u8003\u6587\u6a94:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u53ef\u4ea4\u6613\u7522\u54c1\u7684\u898f\u683c\u4fe1\u606f: ",(0,a.kt)("a",{parentName:"li",href:"/v5/account/instrument"},"\u67e5\u8a62\u7528\u6237\u53ef\u4ea4\u6613\u7522\u54c1\u7684\u898f\u683c\u4fe1\u606f")),(0,a.kt)("li",{parentName:"ul"},"REST \u5275\u5efa\u59d4\u8a17\u55ae: ",(0,a.kt)("a",{parentName:"li",href:"/v5/order/create-order"},"\u5275\u5efa\u59d4\u8a17\u55ae")),(0,a.kt)("li",{parentName:"ul"},"Websocket \u4e0b\u55ae\u6307\u5357: ",(0,a.kt)("a",{parentName:"li",href:"/v5/websocket/trade/guideline"},"Websocket \u4e0b\u55ae\u6307\u5357"))),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"1-rest--\u67e5\u8a62\u4ea4\u6613\u5c0d\u8cc7\u8a0a\u73fe\u8ca8"},"1. REST \u2013 \u67e5\u8a62\u4ea4\u6613\u5c0d\u8cc7\u8a0a(\u73fe\u8ca8)"),(0,a.kt)("p",null,"\u7528\u65bc\u78ba\u8a8d\u5728\u52a0\u5165\u767d\u540d\u55ae\u5f8c, \u8a72\u4ea4\u6613\u5c0d\u662f\u5426\u53ef\u898b(\u5982\u6700\u5c0f\u8b8a\u52d5\u50f9, \u6700\u5c0f\u4e0b\u55ae\u91cf, \u72c0\u614b\u7b49)."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"import requests\nimport time\nimport hashlib\nimport hmac\n\napi_key = 'xxxxxxxxx'\nsecret_key = 'xxxxxxxxx'\nsymbol = 'xxxxx'\nhttpClient = requests.Session()\nrecv_window = str(5000)\nurl = \"https://api.bybit.com\"\n\ndef HTTP_Request(endPoint, method, payload, Info):\n    global time_stamp\n    time_stamp = str(int(time.time() * 10 ** 3))\n    signature = genSignature(payload)\n    headers = {\n        'X-BAPI-API-KEY': api_key,\n        'X-BAPI-SIGN': signature,\n        'X-BAPI-SIGN-TYPE': '2',\n        'X-BAPI-TIMESTAMP': time_stamp,\n        'X-BAPI-RECV-WINDOW': recv_window,\n        'Content-Type': 'application/json'\n    }\n    if method == \"POST\":\n        response = httpClient.request(method, url + endPoint, headers=headers, data=payload)\n    else:\n        response = httpClient.request(method, url + endPoint + \"?\" + payload, headers=headers)\n    print(response.text)\n    print(response.headers)\n    print(Info + \" Elapsed Time : \" + str(response.elapsed))\n\ndef genSignature(payload):\n    param_str = str(time_stamp) + api_key + recv_window + payload\n    hash = hmac.new(bytes(secret_key, \"utf-8\"), param_str.encode(\"utf-8\"), hashlib.sha256)\n    signature = hash.hexdigest()\n    return signature\n\nendpoint = \"/v5/market/instruments-info\"\nmethod = \"GET\"\nparams = 'symbol=' + symbol + '&category=spot'\nHTTP_Request(endpoint, method, params, \"Get Symbol Details\")\n")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"2-rest--\u4e0b-postonly-\u9650\u50f9\u55ae\u73fe\u8ca8"},"2. REST \u2013 \u4e0b PostOnly \u9650\u50f9\u55ae(\u73fe\u8ca8)"),(0,a.kt)("p",null,"\u6ce8\u610f: PostOnly \u7528\u65bc\u78ba\u4fdd\u505a\u5e02(maker)\u610f\u5716. \u82e5\u50f9\u683c\u7a7f\u8d8a\u59d4\u8a17\u7c3f, \u8a02\u55ae\u53ef\u80fd\u6703\u4f9d\u7522\u54c1\u898f\u5247\u88ab\u62d2\u7d55\u6216\u53d6\u6d88."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'import requests\nimport time\nimport hashlib\nimport hmac\n\napi_key=\'xxxx\'\nsecret_key=\'xxxxx\'\nhttpClient=requests.Session()\nrecv_window=str(5000)\nurl="https://api-testnet.bybit.com"\nendpoint="/v5/order/create"\nmethod="POST"\nparams=\'{"category":"spot", "symbol":"XRPUSDT", "orderType":"LIMIT", "side":"buy", "qty":"10", "price":"0.55", "timeInForce":"PostOnly"}\'\n\ndef HTTP_Request(endPoint,method,payload,Info):\n    global time_stamp\n    time_stamp=str(int(time.time() * 10 ** 3))\n    signature=genSignature(payload)\n    headers = {\n        \'X-BAPI-API-KEY\': api_key,\n        \'X-BAPI-SIGN\': signature,\n        \'X-BAPI-SIGN-TYPE\': \'2\',\n        \'X-BAPI-TIMESTAMP\': time_stamp,\n        \'X-BAPI-RECV-WINDOW\': recv_window,\n        \'Content-Type\': \'application/json\'\n    }\n    if(method=="POST"):\n        response = httpClient.request(method, url+endPoint, headers=headers, data=payload)\n    else:\n        response = httpClient.request(method, url+endPoint+"?"+payload, headers=headers)\n    print(response.text)\n    print(response.headers)\n    print(Info + " Elapsed Time : " + str(response.elapsed))\n\ndef genSignature(payload):\n    param_str= str(time_stamp) + api_key + recv_window + payload\n    hash = hmac.new(bytes(secret_key, "utf-8"), param_str.encode("utf-8"),hashlib.sha256)\n    signature = hash.hexdigest()\n    return signature\n\nHTTP_Request(endpoint,method,params,"Create")\n')),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"3-websocket--\u9a57\u7c3d\u4e26\u4e0b\u73fe\u8ca8\u8a02\u55ae"},"3. WebSocket \u2013 \u9a57\u7c3d\u4e26\u4e0b\u73fe\u8ca8\u8a02\u55ae"),(0,a.kt)("p",null,"\u4f7f\u7528 WebSocket \u4ea4\u6613\u63a5\u53e3\u53ef\u76f8\u8f03 REST \u964d\u4f4e\u8abf\u7528\u958b\u92b7.",(0,a.kt)("br",{parentName:"p"}),"\n","\u8acb\u78ba\u8a8d\u4f7f\u7528\u7b26\u5408\u74b0\u5883\u7684\u6b63\u78ba WS Host. \u66f4\u591a\u7d30\u7bc0\u8acb\u53c3\u8003 ",(0,a.kt)("a",{parentName:"p",href:"/v5/websocket/trade/guideline"},"Websocket \u4e0b\u55ae\u6307\u5357"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'import asyncio\nimport websockets\nimport json\nimport hmac\nimport hashlib\nfrom datetime import datetime\n\nasync def authenticate(ws):\n    api_key = "xxxxx"\n    api_secret = "xxxxxx"\n    expires = int((datetime.now().timestamp() + 10) * 1000)\n    signature = hmac.new(api_secret.encode(), f\'GET/realtime{expires}\'.encode(), hashlib.sha256).hexdigest()\n\n    auth_msg = {\n        "op": "auth",\n        "args": [api_key, expires, signature]\n    }\n\n    await ws.send(json.dumps(auth_msg))\n    response = await ws.recv()\n    print(f"Auth response: {response}")\n\nasync def spot_send_subscription(ws):\n    sub_msg = {\n        "header": {\n            "Referer": "Test-1",\n            "X-BAPI-RECV-WINDOW": "100000",\n            "X-BAPI-TIMESTAMP": str(int(datetime.now().timestamp() * 1000))\n        },\n        "op": "order.create",\n        "args": [\n            {\n                "category": "spot",\n                "symbol": "XRPUSDT",\n                "orderType": "LIMIT",\n                "side": "buy",\n                "qty": "10",\n                "price": "0.55",\n                "timeInForce": "PostOnly"\n            }\n        ]\n    }\n\n    await ws.send(json.dumps(sub_msg))\n    print("Subscription spot message sent.")\n\nasync def listen_messages(ws):\n    while True:\n        message = await ws.recv()\n        print(f"Message received: {message}")\n\nasync def main():\n    uri = "wss://stream-testnet.bybit.com/v5/trade"\n    async with websockets.connect(uri) as ws:\n        await authenticate(ws)\n        await spot_send_subscription(ws)\n        await listen_messages(ws)\n\nif __name__ == "__main__":\n    asyncio.run(main())\n')),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"\u5efa\u8b70\u9a57\u8b49\u6aa2\u67e5\u6e05\u55ae-\u9069\u7528\u65bc-dmm-\u63a5\u5165"},"\u5efa\u8b70\u9a57\u8b49\u6aa2\u67e5\u6e05\u55ae (\u9069\u7528\u65bc DMM \u63a5\u5165)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Instrument visibility  ")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"instruments-info \u80fd\u8fd4\u56de\u4ea4\u6613\u5c0d\u8207\u6b63\u78ba\u7684\u53c3\u6578(\u6700\u5c0f\u8b8a\u52d5\u50f9/\u6700\u5c0f\u4e0b\u55ae\u91cf).")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Permissions  ")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"API key \u5177\u5099\u4ea4\u6613\u6b0a\u9650; UID \u5df2\u6b63\u78ba\u52a0\u5165\u767d\u540d\u55ae.")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Maker behavior  ")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"PostOnly \u8a02\u55ae\u672a\u7a7f\u8d8a\u50f9\u5dee; \u5426\u5247\u9810\u671f\u6703\u88ab\u62d2\u7d55/\u53d6\u6d88.")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Operational readiness  ")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u91cd\u8a66/backoff \u6a5f\u5236, \u51aa\u7b49\u6027\u7b56\u7565, \u4ee5\u53ca\u932f\u8aa4\u78bc\u8655\u7406.")),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"pybit--ccxt-\u4f7f\u7528\u6280\u5de7"},"Pybit & CCXT \u4f7f\u7528\u6280\u5de7"),(0,a.kt)("p",null,"\u82e5\u60a8\u4f7f\u7528 Pybit \u6216 CCXT \u642d\u914d Bybit V5 \u63a5\u53e3, \u4e14\u9700\u8981\u8acb\u6c42\u9700\u9a57\u7c3d\u7684 GET ",(0,a.kt)("inlineCode",{parentName:"p"},"/v5/account/instruments-info")," \u63a5\u53e3, \u8acb\u53c3\u8003\u4ee5\u4e0b\u7bc4\u4f8b."),(0,a.kt)("h3",{id:"1-pybit"},"1. Pybit"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8acb\u5347\u7d1a Pybit \u81f3\u6700\u65b0\u7248\u672c(5.14.0+)."),(0,a.kt)("li",{parentName:"ul"},"\u76ee\u524d Pybit \u5c1a\u672a\u5c07 ",(0,a.kt)("inlineCode",{parentName:"li"},"/v5/account/instruments-info")," \u66b4\u9732\u70ba\u4e00\u7d1a\u65b9\u6cd5."),(0,a.kt)("li",{parentName:"ul"},"\u53ef\u900f\u904e ",(0,a.kt)("inlineCode",{parentName:"li"},"_submit_request")," \u4e26\u8a2d\u5b9a ",(0,a.kt)("inlineCode",{parentName:"li"},"auth=True")," \u76f4\u63a5\u8abf\u7528\u8a72\u63a5\u53e3.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'from pybit.unified_trading import HTTP\n\nsession = HTTP(\n    testnet=False,\n    api_key="xxx",\n    api_secret="xxx",\n)\n\nresp = session._submit_request(\n    method="GET",\n    path=session.endpoint + "/v5/account/instruments-info",\n    query={"category": "spot"},\n    auth=True,\n)\nprint(resp)\n')),(0,a.kt)("h3",{id:"2-ccxt"},"2. CCXT"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u8acb\u5347\u7d1a CCXT \u81f3\u6700\u65b0\u7248\u672c(4.3.75+)."),(0,a.kt)("li",{parentName:"ul"},"\u555f\u7528 ",(0,a.kt)("inlineCode",{parentName:"li"},"usePrivateInstrumentsInfo")," \u4ee5\u900f\u904e\u79c1\u6709\u63a5\u53e3\u67e5\u8a62\u4ea4\u6613\u5c0d\u8cc7\u8a0a.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"# option 1: \u521d\u59cb\u5316\u6642\u8a2d\u5b9a\nexchange = ccxt.bybit({\n    'options': {\n        'usePrivateInstrumentsInfo': True,\n    }\n})\n\n# option 2: \u521d\u59cb\u5316\u5f8c\u518d\u8a2d\u5b9a\nexchange.options['usePrivateInstrumentsInfo'] = True\n")))}m.isMDXComponent=!0}}]);