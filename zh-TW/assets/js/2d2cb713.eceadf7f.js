"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[4227],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),s=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),k=s(n),u=r,g=k["".concat(o,".").concat(u)]||k[u]||m[u]||l;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=k;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:r,i[1]=p;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},75642:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const l={title:"SBE Level 50 \u63a5\u5165\u6307\u5357",sidebar_label:"SBE Level 50 \u63a5\u5165\u6307\u5357",sidebar_position:1},i=void 0,p={unversionedId:"v5/sbe/level-50/sbe-level-50",id:"v5/sbe/level-50/sbe-level-50",title:"SBE Level 50 \u63a5\u5165\u6307\u5357",description:"\u7e3d\u89bd",source:"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/v5/sbe/level-50/sbe-level-50.mdx",sourceDirName:"v5/sbe/level-50",slug:"/v5/sbe/level-50/sbe-level-50",permalink:"/docs/zh-TW/v5/sbe/level-50/sbe-level-50",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"SBE Level 50 \u63a5\u5165\u6307\u5357",sidebar_label:"SBE Level 50 \u63a5\u5165\u6307\u5357",sidebar_position:1},sidebar:"v5SideBar",previous:{title:"SBE BBO \u63a5\u5165\u6307\u5357",permalink:"/docs/zh-TW/v5/sbe/bbo/sbe-bbo"},next:{title:"Fast Order \u63a5\u5165\u6307\u5357",permalink:"/docs/zh-TW/v5/sbe/fast-order/sbe-fast-order"}},o={},s=[{value:"\u7e3d\u89bd",id:"\u7e3d\u89bd",level:2},{value:"\u767c\u5e03\u6642\u9593",id:"\u767c\u5e03\u6642\u9593",level:3},{value:"Order Book \u66f4\u65b0\u908f\u8f2f (Snapshot + Delta \u6a21\u5f0f)",id:"order-book-\u66f4\u65b0\u908f\u8f2f-snapshot--delta-\u6a21\u5f0f",level:2},{value:"\u4fe1\u606f\u985e\u578b",id:"\u4fe1\u606f\u985e\u578b",level:3},{value:"<code>u</code> (Update ID) \u6b04\u4f4d\u898f\u5247",id:"u-update-id-\u6b04\u4f4d\u898f\u5247",level:3},{value:"<code>u</code> \u7684\u884c\u70ba Behavior of <code>u</code>",id:"u-\u7684\u884c\u70ba-behavior-of-u",level:4},{value:"\u9023\u7e8c\u6027\u6aa2\u67e5",id:"\u9023\u7e8c\u6027\u6aa2\u67e5",level:4},{value:"Order Book \u7dad\u8b77\u898f\u5247",id:"order-book-\u7dad\u8b77\u898f\u5247",level:3},{value:"\u9996\u500b\u4fe1\u606f\u8207\u91cd\u9023",id:"\u9996\u500b\u4fe1\u606f\u8207\u91cd\u9023",level:4},{value:"\u5feb\u7167\u8655\u7406",id:"\u5feb\u7167\u8655\u7406",level:4},{value:"\u589e\u91cf\u8655\u7406",id:"\u589e\u91cf\u8655\u7406",level:4},{value:"\u63a8\u9001\u66f4\u65b0\u793a\u4f8b",id:"\u63a8\u9001\u66f4\u65b0\u793a\u4f8b",level:3},{value:"SBE \u8207 JSON \u7684\u4e3b\u8981\u5dee\u7570",id:"sbe-\u8207-json-\u7684\u4e3b\u8981\u5dee\u7570",level:2},{value:"1. \u6642\u9593\u7cbe\u5ea6",id:"1-\u6642\u9593\u7cbe\u5ea6",level:3},{value:"2. \u8ca0\u8f09\u5927\u5c0f\u8207\u6548\u7387",id:"2-\u8ca0\u8f09\u5927\u5c0f\u8207\u6548\u7387",level:3},{value:"3. \u5feb\u7167\u6a21\u5f0f\u884c\u70ba",id:"3-\u5feb\u7167\u6a21\u5f0f\u884c\u70ba",level:3},{value:"4. RPI (Retail Price Improvement) \u6392\u9664",id:"4-rpi-retail-price-improvement-\u6392\u9664",level:3},{value:"Level 50 \u90e8\u5206 snapshot \u8207 Level 40 \u5168\u91cf snapshot \u6bd4\u8f03",id:"level-50-\u90e8\u5206-snapshot-\u8207-level-40-\u5168\u91cf-snapshot-\u6bd4\u8f03",level:2},{value:"\u95dc\u65bc\u6b04\u4f4d <code>seq</code> \u7684\u5e38\u898b\u554f\u984c FAQ about field <code>seq</code>",id:"\u95dc\u65bc\u6b04\u4f4d-seq-\u7684\u5e38\u898b\u554f\u984c-faq-about-field-seq",level:2},{value:"\u9023\u63a5",id:"\u9023\u63a5",level:2},{value:"Testnet URL",id:"testnet-url",level:3},{value:"Mainnet URL",id:"mainnet-url",level:3},{value:"\u6578\u64da\u6846\u67b6\u985e\u578b",id:"\u6578\u64da\u6846\u67b6\u985e\u578b",level:3},{value:"\u63a7\u5236\u4fe1\u606f",id:"\u63a7\u5236\u4fe1\u606f",level:3},{value:"\u6d41\u7a0b",id:"\u6d41\u7a0b",level:2},{value:"Ping / Pong (JSON \u63a7\u5236 frame)",id:"ping--pong-json-\u63a7\u5236-frame",level:3},{value:"\u8a02\u95b1",id:"\u8a02\u95b1",level:3},{value:"SBE XML \u6a21\u677f (L50 OB)",id:"sbe-xml-\u6a21\u677f-l50-ob",level:2},{value:"SBE Level 50 \u6b04\u4f4d\u53c3\u8003",id:"sbe-level-50-\u6b04\u4f4d\u53c3\u8003",level:2},{value:"Enum: <code>pkgTypeEnum</code> (for <code>pkgType</code>)",id:"enum-pkgtypeenum-for-pkgtype",level:3},{value:"\u91cd\u8907\u7fa4\u7d44\u5143\u7d20\u683c\u5f0f (bids/asks)",id:"\u91cd\u8907\u7fa4\u7d44\u5143\u7d20\u683c\u5f0f-bidsasks",level:2},{value:"Asks Group",id:"asks-group",level:3},{value:"Bids Group",id:"bids-group",level:3},{value:"\u652f\u6301\u5fa9\u5408\u985e\u578b",id:"\u652f\u6301\u5fa9\u5408\u985e\u578b",level:2},{value:"<code>varString8</code> (variable string)",id:"varstring8-variable-string",level:3},{value:"SBE \u9023\u63a5\u6578\u9650\u5236",id:"sbe-\u9023\u63a5\u6578\u9650\u5236",level:2},{value:"\u63a5\u5165\u793a\u4f8b",id:"\u63a5\u5165\u793a\u4f8b",level:2},{value:"Python",id:"python",level:3},{value:"Golang",id:"golang",level:3}],d={toc:s};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u7e3d\u89bd"},"\u7e3d\u89bd"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Channel:")," \u50c5\u652f\u63f4\u79c1\u6709 MMWS, \u4e0d\u958b\u653e\u65bc public WS."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Topic:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"ob.50.sbe.{symbol}")," (\u6bcf 20 ms \u63a8\u9001 snapshot \u6216 delta)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Format:")," SBE \u4e8c\u9032\u5236 frame (",(0,r.kt)("inlineCode",{parentName:"li"},"opcode = 2"),"), little-endian."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Depth:")," \u6bcf\u4e00\u5074 50 \u6a94\u6df1\u5ea6, \u6b64\u983b\u9053\u5167\u4e0d\u5305\u542b RPI."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Units:")," \u6642\u9593\u6233\u70ba microseconds (\xb5s), price/size \u70ba mantissa \u642d\u914d exponent.")),(0,r.kt)("h3",{id:"\u767c\u5e03\u6642\u9593"},"\u767c\u5e03\u6642\u9593"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Spot testnet: ",(0,r.kt)("strong",{parentName:"li"},"Nov 25th 7am UTC+0")),(0,r.kt)("li",{parentName:"ul"},"Spot mainnet: ",(0,r.kt)("strong",{parentName:"li"},"Dec 2nd 7am UTC+0")),(0,r.kt)("li",{parentName:"ul"},"Futures testnet: ",(0,r.kt)("strong",{parentName:"li"},"Dec 9th 7am UTC+0")),(0,r.kt)("li",{parentName:"ul"},"Futures mainnet: ",(0,r.kt)("strong",{parentName:"li"},"Dec 16th 7am UTC+0"))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"order-book-\u66f4\u65b0\u908f\u8f2f-snapshot--delta-\u6a21\u5f0f"},"Order Book \u66f4\u65b0\u908f\u8f2f (Snapshot + Delta \u6a21\u5f0f)"),(0,r.kt)("h3",{id:"\u4fe1\u606f\u985e\u578b"},"\u4fe1\u606f\u985e\u578b"),(0,r.kt)("p",null,"Order book \u66f4\u65b0\u6d41\u4e2d\u5305\u542b\u5169\u7a2e\u4fe1\u606f\u578b\u5225:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Meaning"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"snapshot"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b8c\u6574 50 \u6a94 orderbook \u5f71\u50cf, \u5fc5\u9808\u7528\u4f86 ",(0,r.kt)("strong",{parentName:"td"},"\u91cd\u8a2d")," \u672c\u5730 orderbook.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u589e\u91cf\u66f4\u65b0, \u5fc5\u9808 ",(0,r.kt)("strong",{parentName:"td"},"\u5957\u7528\u8b8a\u66f4")," \u5728\u65e2\u6709\u672c\u5730 orderbook \u4e0a.")))),(0,r.kt)("h3",{id:"u-update-id-\u6b04\u4f4d\u898f\u5247"},(0,r.kt)("inlineCode",{parentName:"h3"},"u")," (Update ID) \u6b04\u4f4d\u898f\u5247"),(0,r.kt)("h4",{id:"u-\u7684\u884c\u70ba-behavior-of-u"},(0,r.kt)("inlineCode",{parentName:"h4"},"u")," \u7684\u884c\u70ba Behavior of ",(0,r.kt)("inlineCode",{parentName:"h4"},"u")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6b04\u4f4d ",(0,r.kt)("inlineCode",{parentName:"li"},"u")," \u6703\u5728\u6240\u6709 snapshot \u8207 delta \u4e2d ",(0,r.kt)("strong",{parentName:"li"},"\u55ae\u8abf\u905e\u589e"),"."),(0,r.kt)("li",{parentName:"ul"},"\u6b04\u4f4d ",(0,r.kt)("inlineCode",{parentName:"li"},"u")," ",(0,r.kt)("strong",{parentName:"li"},"\u4e0d\u6703\u91cd\u7f6e"),", \u9664\u975e\u7cfb\u7d71\u91cd\u555f\u6216\u7cbe\u5ea6 (precision) \u6539\u8b8a."),(0,r.kt)("li",{parentName:"ul"},"\u7576 ",(0,r.kt)("inlineCode",{parentName:"li"},"u = 1")," \u6642\u6c38\u9060\u4ee3\u8868\u4e00\u500b ",(0,r.kt)("strong",{parentName:"li"},"snapshot"),", \u6b64\u6642\u5fc5\u9808\u505c\u6b62\u9032\u884c\u9023\u7e8c\u6027\u6aa2\u67e5.")),(0,r.kt)("h4",{id:"\u9023\u7e8c\u6027\u6aa2\u67e5"},"\u9023\u7e8c\u6027\u6aa2\u67e5"),(0,r.kt)("p",null,"\u53ea\u6709\u5728 ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"u != 1"))," \u6642\u624d\u9700\u8981\u9032\u884c\u9023\u7e8c\u6027\u6aa2\u67e5."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Condition"),(0,r.kt)("th",{parentName:"tr",align:null},"Action"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"u != 1")),(0,r.kt)("td",{parentName:"tr",align:null},"\u9a57\u8b49\u9023\u7e8c\u6027: \u4e0b\u4e00\u500b ",(0,r.kt)("inlineCode",{parentName:"td"},"u")," \u61c9\u8a72\u7b49\u65bc\u524d\u4e00\u500b ",(0,r.kt)("inlineCode",{parentName:"td"},"u + 1"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"u == 1")),(0,r.kt)("td",{parentName:"tr",align:null},"\u7279\u6b8a snapshot (\u670d\u52d9\u91cd\u555f\u6216\u7cbe\u5ea6\u8b8a\u66f4), ",(0,r.kt)("strong",{parentName:"td"},"\u4e0d\u61c9")," \u57f7\u884c\u9023\u7e8c\u6027\u6aa2\u67e5.")))),(0,r.kt)("h3",{id:"order-book-\u7dad\u8b77\u898f\u5247"},"Order Book \u7dad\u8b77\u898f\u5247"),(0,r.kt)("h4",{id:"\u9996\u500b\u4fe1\u606f\u8207\u91cd\u9023"},"\u9996\u500b\u4fe1\u606f\u8207\u91cd\u9023"),(0,r.kt)("p",null,"\u8a02\u95b1\u5b8c\u6210\u5f8c, ",(0,r.kt)("strong",{parentName:"p"},"\u7b2c\u4e00\u5247\u4fe1\u606f\u4e00\u5b9a\u662f snapshot"),".",(0,r.kt)("br",{parentName:"p"}),"\n","\u5ba2\u6236\u7aef\u5fc5\u9808\u4f7f\u7528\u8a72 snapshot \u521d\u59cb\u5316\u672c\u5730 orderbook."),(0,r.kt)("h4",{id:"\u5feb\u7167\u8655\u7406"},"\u5feb\u7167\u8655\u7406"),(0,r.kt)("p",null,"Snapshot \u4e00\u5b9a\u8981 ",(0,r.kt)("strong",{parentName:"p"},"\u5b8c\u5168\u53d6\u4ee3")," \u672c\u5730 orderbook:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6e05\u9664\u672c\u5730 bids \u8207 asks."),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 snapshot \u8cc7\u6599\u91cd\u65b0\u5efa\u7acb\u6574\u672c orderbook."),(0,r.kt)("li",{parentName:"ul"},"\u8a2d\u5b9a\u672c\u5730 ",(0,r.kt)("inlineCode",{parentName:"li"},"lastU = snapshot.u"),".")),(0,r.kt)("p",null,"Snapshot \u53ef\u80fd\u51fa\u73fe\u65bc:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u521d\u59cb\u5316\u8a02\u95b1\u4e4b\u5f8c"),(0,r.kt)("li",{parentName:"ul"},"\u7576\u55ae\u6b21\u8b8a\u66f4\u7684\u50f9\u4f4d\u6578\u8d85\u904e 100 \u6a94 (\u6975\u7aef\u884c\u60c5\u81ea\u52d5\u56de\u9000\u6a5f\u5236)"),(0,r.kt)("li",{parentName:"ul"},"\u5167\u90e8\u670d\u52d9\u91cd\u555f\u4e4b\u5f8c"),(0,r.kt)("li",{parentName:"ul"},"exponent / precision \u8b8a\u66f4\u4e4b\u5f8c")),(0,r.kt)("h4",{id:"\u589e\u91cf\u8655\u7406"},"\u589e\u91cf\u8655\u7406"),(0,r.kt)("p",null,"Delta \u4ee5 ",(0,r.kt)("strong",{parentName:"p"},"\u589e\u91cf\u65b9\u5f0f")," \u5957\u7528:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7576 ",(0,r.kt)("inlineCode",{parentName:"li"},"size > 0")," \u6642\u63d2\u5165\u6216\u66f4\u65b0\u5c0d\u61c9\u50f9\u4f4d."),(0,r.kt)("li",{parentName:"ul"},"\u7576 ",(0,r.kt)("inlineCode",{parentName:"li"},"size == 0")," \u6642\u522a\u9664\u5c0d\u61c9\u50f9\u4f4d."),(0,r.kt)("li",{parentName:"ul"},"\u6301\u7e8c\u4f7f\u7528\u6b04\u4f4d ",(0,r.kt)("inlineCode",{parentName:"li"},"u")," \u9032\u884c\u9023\u7e8c\u6027\u6aa2\u67e5.")),(0,r.kt)("h3",{id:"\u63a8\u9001\u66f4\u65b0\u793a\u4f8b"},"\u63a8\u9001\u66f4\u65b0\u793a\u4f8b"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u662f\u771f\u5be6\u60c5\u5883, \u9023\u63a5\u7a69\u5b9a\u4e14\u4fe1\u606f\u6309\u9806\u5e8f\u5230\u9054:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"u"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10000"),(0,r.kt)("td",{parentName:"tr",align:null},"snapshot"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8a02\u95b1\u5f8c\u6536\u5230\u7684\u7b2c\u4e00\u5247\u4fe1\u606f.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10001"),(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u589e\u91cf\u66f4\u65b0, \u5fc5\u9808 ",(0,r.kt)("strong",{parentName:"td"},"\u5c07\u8b8a\u66f4\u5957\u7528")," \u5728\u73fe\u6709\u672c\u5730 orderbook \u4e0a.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10002"),(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6b63\u5e38\u7684\u589e\u91cf\u66f4\u65b0.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10003"),(0,r.kt)("td",{parentName:"tr",align:null},"snapshot"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5e02\u5834\u5927\u5e45\u6ce2\u52d5, \u8b8a\u66f4\u50f9\u4f4d\u6578 > 100, \u7cfb\u7d71\u6539\u4ee5 snapshot \u63a8\u9001\u4e26 ",(0,r.kt)("strong",{parentName:"td"},"\u91cd\u5efa")," \u672c\u5730 orderbook.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10004"),(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f9e\u6700\u65b0 snapshot \u7e7c\u7e8c\u63a8\u9001 delta.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"snapshot"),(0,r.kt)("td",{parentName:"tr",align:null},"\u670d\u52d9\u91cd\u555f\u6216\u7cbe\u5ea6\u8b8a\u66f4, \u5c0e\u81f4 ",(0,r.kt)("inlineCode",{parentName:"td"},"u")," \u91cd\u8a2d\u70ba 1.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65b0\u4e00\u8f2a\u9023\u7e8c\u5e8f\u5217\u7684\u958b\u59cb.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2014")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"delta"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2014")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"sbe-\u8207-json-\u7684\u4e3b\u8981\u5dee\u7570"},"SBE \u8207 JSON \u7684\u4e3b\u8981\u5dee\u7570"),(0,r.kt)("h3",{id:"1-\u6642\u9593\u7cbe\u5ea6"},"1. \u6642\u9593\u7cbe\u5ea6"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"JSON:")," \u6642\u9593\u6233\u901a\u5e38\u70ba ",(0,r.kt)("strong",{parentName:"li"},"milliseconds (ms)"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"SBE:")," \u6240\u6709\u6642\u9593\u6233 (",(0,r.kt)("inlineCode",{parentName:"li"},"ts"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"cts"),") \u7686\u70ba ",(0,r.kt)("strong",{parentName:"li"},"microseconds (\xb5s)"),", \u63d0\u4f9b\u66f4\u9ad8\u7cbe\u5ea6\u8207\u66f4\u597d\u7684\u6392\u5e8f\u6e96\u78ba\u5ea6.")),(0,r.kt)("h3",{id:"2-\u8ca0\u8f09\u5927\u5c0f\u8207\u6548\u7387"},"2. \u8ca0\u8f09\u5927\u5c0f\u8207\u6548\u7387"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"SBE:")," \u4ee5\u4e8c\u9032\u5236\u6253\u5305, \u5118\u91cf\u4f7f\u7528\u56fa\u5b9a\u9577\u5ea6\u6b04\u4f4d, \u56e0\u6b64 ",(0,r.kt)("strong",{parentName:"li"},"\u975e\u5e38\u7cbe\u7c21"),"\u3002  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5178\u578b\u7684 50\xd72 depth \u66f4\u65b0, \u55ae\u500b frame \u7d04 ",(0,r.kt)("strong",{parentName:"li"},"1.7 KB"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"JSON:")," \u70ba\u6587\u5b57\u683c\u5f0f, \u7d50\u69cb\u8f03\u5197\u9577\u3002  ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7b49\u50f9\u6df1\u5ea6\u7684\u66f4\u65b0\u7d04 ",(0,r.kt)("strong",{parentName:"li"},"2.4 KB"),", \u5728\u5287\u70c8\u6ce2\u52d5\u6642\u6700\u9ad8\u53ef\u9054 ",(0,r.kt)("strong",{parentName:"li"},"4.6 KB"),".")))),(0,r.kt)("h3",{id:"3-\u5feb\u7167\u6a21\u5f0f\u884c\u70ba"},"3. \u5feb\u7167\u6a21\u5f0f\u884c\u70ba"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SBE \u7684\u884c\u70ba\u8207 JSON v5 \u5c0d\u9f4a:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"50 \u6a94 snapshot \u4f5c\u70ba delta \u540c\u6b65\u7684 ",(0,r.kt)("strong",{parentName:"li"},"\u57fa\u6e96\u53c3\u8003"),".")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u6975\u7aef\u884c\u60c5\u8655\u7406")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u7576\u67d0\u4e00\u7b46 delta \u5305\u542b ",(0,r.kt)("strong",{parentName:"li"},"\u8d85\u904e 100 \u6a94 bid+ask \u66f4\u65b0")," (\u8cb7\u8ce3\u52a0\u7e3d), \u7cfb\u7d71\u6703\u81ea\u52d5\u6539\u70ba\u63a8\u9001 ",(0,r.kt)("strong",{parentName:"li"},"\u5b8c\u6574 snapshot"),", \u4e0d\u518d\u63a8\u9001\u8a72\u7b46 delta."),(0,r.kt)("li",{parentName:"ul"},"\u78ba\u4fdd\u5ba2\u6236\u7aef orderbook \u80fd\u5920\u4e7e\u6de8\u5730\u91cd\u65b0\u540c\u6b65."),(0,r.kt)("li",{parentName:"ul"},"\u907f\u514d\u5728\u9ad8\u983b\u8b8a\u52d5\u6642\u7522\u751f\u5927\u91cf delta \u5c01\u5305."),(0,r.kt)("li",{parentName:"ul"},"Snapshot \u5927\u5c0f\u56fa\u5b9a, \u89e3\u78bc\u884c\u70ba\u66f4\u53ef\u9810\u671f.")),(0,r.kt)("h3",{id:"4-rpi-retail-price-improvement-\u6392\u9664"},"4. RPI (Retail Price Improvement) \u6392\u9664"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SBE 50-level feed ",(0,r.kt)("strong",{parentName:"li"},"\u4e0d\u5305\u542b RPI \u6b04\u4f4d"),", \u50c5\u5305\u542b\u4e00\u822c best bid/ask \u6df1\u5ea6\u8cc7\u6599.")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"level-50-\u90e8\u5206-snapshot-\u8207-level-40-\u5168\u91cf-snapshot-\u6bd4\u8f03"},"Level 50 \u90e8\u5206 snapshot \u8207 Level 40 \u5168\u91cf snapshot \u6bd4\u8f03"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u512a\u9ede")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Delta \u642d\u914d\u8f03\u5c0f\u7684\u90e8\u5206 snapshot \u80fd\u964d\u4f4e\u983b\u5bec\u6d88\u8017."),(0,r.kt)("li",{parentName:"ul"},"\u5728\u6975\u7aef\u884c\u60c5\u4e0b, partial snapshot \u642d\u914d delta \u7684\u8a2d\u8a08\u66f4\u5177\u97cc\u6027."),(0,r.kt)("li",{parentName:"ul"},"\u652f\u63f4 ",(0,r.kt)("strong",{parentName:"li"},"\u8d85\u904e 10 \u6a94")," \u6df1\u5ea6."),(0,r.kt)("li",{parentName:"ul"},"Delta + partial snapshot \u53ef\u4ee5\u63d0\u4f9b\u9023\u7e8c\u540c\u6b65, \u985e\u4f3c CME, Nasdaq, Binance, OKX \u7684\u8a2d\u8a08.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u7f3a\u9ede")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5ba2\u6236\u7aef\u5fc5\u9808\u8655\u7406 ",(0,r.kt)("strong",{parentName:"li"},"partial snapshot + deltas")," \u624d\u80fd\u91cd\u5efa\u5b8c\u6574 orderbook."),(0,r.kt)("li",{parentName:"ul"},"\u9700\u8981\u6b63\u78ba\u8655\u7406 ",(0,r.kt)("strong",{parentName:"li"},"delta \u5e8f\u5217\u5c0d\u9f4a"),".")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u95dc\u65bc\u6b04\u4f4d-seq-\u7684\u5e38\u898b\u554f\u984c-faq-about-field-seq"},"\u95dc\u65bc\u6b04\u4f4d ",(0,r.kt)("inlineCode",{parentName:"h2"},"seq")," \u7684\u5e38\u898b\u554f\u984c FAQ about field ",(0,r.kt)("inlineCode",{parentName:"h2"},"seq")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6b04\u4f4d ",(0,r.kt)("inlineCode",{parentName:"li"},"seq")," \u662f\u4e00\u500b ",(0,r.kt)("strong",{parentName:"li"},"\u5168\u57df\u7d71\u4e00\u7684\u5e8f\u5217\u865f"),", \u5728\u4e0d\u540c\u6df1\u5ea6\u4e4b\u9593\u4fdd\u6301\u4e00\u81f4, \u55ae\u8abf\u905e\u589e, \u4f46 ",(0,r.kt)("strong",{parentName:"li"},"\u4e0d\u4fdd\u8b49\u9023\u7e8c"),"."),(0,r.kt)("li",{parentName:"ul"},"\u6240\u6709\u4fe1\u606f\u90fd\u5728 quote service \u4e2d\u7522\u751f, \u4e26\u5728\u90a3\u88e1\u6307\u6d3e ",(0,r.kt)("inlineCode",{parentName:"li"},"seq")," \u8207 ",(0,r.kt)("inlineCode",{parentName:"li"},"u"),"."),(0,r.kt)("li",{parentName:"ul"},"\u5728 WebSocket server \u4e2d, \u4fe1\u606f\u6703\u900f\u660e\u8f49\u767c\u4e14\u4e0d\u9032\u884c\u4fee\u6539\u3002",(0,r.kt)("br",{parentName:"li"}),"\u56e0\u6b64, \u5c0d\u65bc\u9023\u5230\u540c\u4e00 WS server \u7684\u6240\u6709\u5ba2\u6236\u7aef, ",(0,r.kt)("strong",{parentName:"li"},"\u540c\u4e00\u5247\u4fe1\u606f\u7684 ",(0,r.kt)("inlineCode",{parentName:"strong"},"seq")," \u8207 ",(0,r.kt)("inlineCode",{parentName:"strong"},"u")," \u503c\u5b8c\u5168\u76f8\u540c"),", \u8207\u9023\u63a5\u672c\u8eab\u7121\u95dc\u3002")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u9023\u63a5"},"\u9023\u63a5"),(0,r.kt)("h3",{id:"testnet-url"},"Testnet URL"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wss://stream-testnet.bybits.org/v5/public-sbe/spot"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wss://stream-testnet.bybits.org/v5/public-sbe/linear"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wss://stream-testnet.bybits.org/v5/public-sbe/inverse"))),(0,r.kt)("h3",{id:"mainnet-url"},"Mainnet URL"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wss://xxxx.bybit-aws.com/v5/public-sbe/spot"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wss://xxxx.bybit-aws.com/v5/public-sbe/linear"),"  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wss://xxxx.bybit-aws.com/v5/public-sbe/inverse"))),(0,r.kt)("p",null,"\u8acb\u4f7f\u7528\u60a8 ",(0,r.kt)("strong",{parentName:"p"},"\u5c08\u5c6c\u7684 MMWS host")," \u9032\u884c\u9023\u63a5\u3002"),(0,r.kt)("h3",{id:"\u6578\u64da\u6846\u67b6\u985e\u578b"},"\u6578\u64da\u6846\u67b6\u985e\u578b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SBE \u4fe1\u606f\u6703\u4ee5 ",(0,r.kt)("strong",{parentName:"li"},"binary frames")," (",(0,r.kt)("inlineCode",{parentName:"li"},"opcode = 2"),") \u50b3\u8f38\u3002")),(0,r.kt)("h3",{id:"\u63a7\u5236\u4fe1\u606f"},"\u63a7\u5236\u4fe1\u606f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8a02\u95b1, \u53d6\u6d88\u8a02\u95b1, ping/pong \u7b49\u63a7\u5236\u4fe1\u606f\u9075\u5faa ",(0,r.kt)("strong",{parentName:"li"},"Bybit V5 API \u6a19\u6e96"),"\u3002")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u6d41\u7a0b"},"\u6d41\u7a0b"),(0,r.kt)("h3",{id:"ping--pong-json-\u63a7\u5236-frame"},"Ping / Pong (JSON \u63a7\u5236 frame)"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Send Ping")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{"req_id": "100001", "op": "ping"}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Receive Pong")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true,\n  "ret_msg": "pong",\n  "conn_id": "xxxxx-xx",\n  "req_id": "",\n  "op": "ping"\n}\n')),(0,r.kt)("h3",{id:"\u8a02\u95b1"},"\u8a02\u95b1"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Topic \u683c\u5f0f: ",(0,r.kt)("inlineCode",{parentName:"li"},"ob.50.sbe.<symbol>")),(0,r.kt)("li",{parentName:"ul"},"\u793a\u4f8b: ",(0,r.kt)("inlineCode",{parentName:"li"},"BTCUSDT"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"ETHUSDT"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Subscribe request")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{"op": "subscribe", "args": ["ob.50.sbe.BTCUSDT"]}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Subscription confirmation")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true,\n  "ret_msg": "",\n  "conn_id": "d30fdpbboasp1pjbe7r0",\n  "req_id": "xxx",\n  "op": "subscribe"\n}\n')),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"sbe-xml-\u6a21\u677f-l50-ob"},"SBE XML \u6a21\u677f (L50 OB)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<sbe:messageSchema xmlns:sbe="http://fixprotocol.io/2016/sbe"\n                   xmlns:mbx="https://bybit-exchange.github.io/docs/v5/intro"\n                   package="quote.sbe"\n                   id="1"\n                   version="0"\n                   semanticVersion="1.0.0"\n                   description="Bybit market data streams SBE message schema"\n                   byteOrder="littleEndian"\n                   headerType="messageHeader">\n  <types>\n    <composite name="messageHeader" description="Template ID and length of message root">\n      <type name="blockLength" primitiveType="uint16"/>\n      <type name="templateId" primitiveType="uint16"/>\n      <type name="schemaId" primitiveType="uint16"/>\n      <type name="version" primitiveType="uint16"/>\n    </composite>\n\n    <composite name="varString8" description="Variable length UTF-8 string.">\n      <type name="length" primitiveType="uint8"/>\n      <type name="varData" length="0" primitiveType="uint8" semanticType="String" characterEncoding="UTF-8"/>\n    </composite>\n\n    <composite name="groupSize16Encoding" description="Repeating group dimensions.">\n      <type name="blockLength" primitiveType="uint16"/>\n      <type name="numInGroup" primitiveType="uint16"/>\n    </composite>\n\n    \x3c!-- NEW: package type enum --\x3e\n    <enum name="pkgTypeEnum" encodingType="uint8">\n      <validValue name="SNAPSHOT">0</validValue>\n      <validValue name="DELTA">1</validValue>\n    </enum>\n  </types>\n\n  \x3c!-- Stream event for "ob.rpi.1.sbe.<symbol>" channel --\x3e\n  <sbe:message name="BestOBRpiEvent" id="20000">\n    <field id="1"  name="ts"             type="int64" description="The timestamp in microseconds that the system generates the data"/>\n    <field id="2"  name="seq"            type="int64" description="Cross sequence ID"/>\n    <field id="3"  name="cts"            type="int64" description="The timestamp in microseconds from the matching engine when this orderbook data is produced."/>\n    <field id="4"  name="u"              type="int64" description="Update Id"/>\n    <field id="5"  name="askNormalPrice" type="int64" mbx:exponent="priceExponent" description="Mantissa for the best ask normal price"/>\n    <field id="6"  name="askNormalSize"  type="int64" mbx:exponent="sizeExponent" description="Mantissa for the best ask normal size"/>\n    <field id="7"  name="askRpiPrice"    type="int64" mbx:exponent="priceExponent" description="Mantissa for the best ask rpi price"/>\n    <field id="8"  name="askRpiSize"     type="int64" mbx:exponent="sizeExponent" description="Mantissa for the best ask rpi size"/>\n    <field id="9"  name="bidNormalPrice" type="int64" mbx:exponent="priceExponent" description="Mantissa for the best bid normal price"/>\n    <field id="10" name="bidNormalSize"  type="int64" mbx:exponent="sizeExponent" description="Mantissa for the best bid normal size"/>\n    <field id="11" name="bidRpiPrice"    type="int64" mbx:exponent="priceExponent" description="Mantissa for the best bid rpi price"/>\n    <field id="12" name="bidRpiSize"     type="int64" mbx:exponent="sizeExponent" description="Mantissa for the best bid rpi size"/>\n    <field id="13" name="priceExponent"  type="int8"  description="Price exponent for decimal point positioning"/>\n    <field id="14" name="sizeExponent"   type="int8"  description="Size exponent for decimal point positioning"/>\n    <data  id="55" name="symbol"         type="varString8"/>\n  </sbe:message>\n\n  \x3c!-- Stream event for "ob.50.sbe.<symbol>" channel --\x3e\n  <sbe:message name="OBL50Event" id="20001">\n    <field id="1"  name="ts"            type="int64" description="The timestamp in microseconds that the system generates the data"/>\n    <field id="2"  name="seq"           type="int64" description="Cross sequence ID"/>\n    <field id="3"  name="cts"           type="int64" description="The timestamp in microseconds from the matching engine when this orderbook data is produced."/>\n    <field id="4"  name="u"             type="int64" description="Update Id"/>\n    <field id="5"  name="priceExponent" type="int8"  description="Price exponent for decimal point positioning"/>\n    <field id="6"  name="sizeExponent"  type="int8"  description="Size exponent for decimal point positioning"/>\n    \x3c!-- NEW: package type --\x3e\n    <field id="7"  name="pkgType"       type="pkgTypeEnum" description="Package type: 0 = SNAPSHOT (full book), 1 = DELTA (partial update)"/>\n\n    <group id="40" name="asks" dimensionType="groupSize16Encoding" description="Sell side order book updates">\n      <field id="1" name="price" type="int64" description="Price mantissa"/>\n      <field id="2" name="size"  type="int64" description="Size mantissa"/>\n    </group>\n\n    <group id="41" name="bids" dimensionType="groupSize16Encoding" description="Buy side order book updates">\n      <field id="1" name="price" type="int64" description="Price mantissa"/>\n      <field id="2" name="size"  type="int64" description="Size mantissa"/>\n    </group>\n\n    <data id="55" name="symbol" type="varString8"/>\n  </sbe:message>\n</sbe:messageSchema>\n')),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"sbe-level-50-\u6b04\u4f4d\u53c3\u8003"},"SBE Level 50 \u6b04\u4f4d\u53c3\u8003"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Message:")," ",(0,r.kt)("inlineCode",{parentName:"p"},"OBL50Event")," (id = 20001)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,r.kt)("th",{parentName:"tr",align:null},"ID"),(0,r.kt)("th",{parentName:"tr",align:null},"SBE Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Unit / Format"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ts"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"\xb5s"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7cfb\u7d71\u5728\u63a8\u9001\u5074\u751f\u6210\u8cc7\u6599\u7684\u6642\u9593\u6233 (dispatcher).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"seq"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"integer"),(0,r.kt)("td",{parentName:"tr",align:null},"Cross-sequence id, \u6bcf\u500b feed \u55ae\u8abf\u905e\u589e, \u4f46\u4e0d\u4fdd\u8b49\u9023\u7e8c.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cts"),(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"\xb5s"),(0,r.kt)("td",{parentName:"tr",align:null},"\u64ae\u5408\u5f15\u64ce\u751f\u6210\u6b64 OB snapshot \u6216 delta \u7684\u6642\u9593\u6233, \u53ef\u7528\u65bc\u5ef6\u9072\u6e2c\u91cf.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"u"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"integer"),(0,r.kt)("td",{parentName:"tr",align:null},"Update id, \u6bcf\u500b symbol \u55ae\u8abf\u905e\u589e, \u7528\u65bc\u6aa2\u67e5\u9023\u7e8c\u6027.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"priceExponent"),(0,r.kt)("td",{parentName:"tr",align:null},"5"),(0,r.kt)("td",{parentName:"tr",align:null},"int8"),(0,r.kt)("td",{parentName:"tr",align:null},"exponent"),(0,r.kt)("td",{parentName:"tr",align:null},"\u50f9\u683c\u5c0f\u6578\u4f4d\u6578, \u986f\u793a\u50f9\u683c = mantissa \xd7 10^",(0,r.kt)("inlineCode",{parentName:"td"},"priceExponent"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sizeExponent"),(0,r.kt)("td",{parentName:"tr",align:null},"6"),(0,r.kt)("td",{parentName:"tr",align:null},"int8"),(0,r.kt)("td",{parentName:"tr",align:null},"exponent"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6578\u91cf\u5c0f\u6578\u4f4d\u6578, \u986f\u793a\u6578\u91cf = mantissa \xd7 10^",(0,r.kt)("inlineCode",{parentName:"td"},"sizeExponent"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pkgType"),(0,r.kt)("td",{parentName:"tr",align:null},"7"),(0,r.kt)("td",{parentName:"tr",align:null},"uint8 (",(0,r.kt)("inlineCode",{parentName:"td"},"pkgTypeEnum"),")"),(0,r.kt)("td",{parentName:"tr",align:null},"integer"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5c01\u5305\u578b\u5225 (0 = snapshot, 1 = delta).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"asks"),(0,r.kt)("td",{parentName:"tr",align:null},"40"),(0,r.kt)("td",{parentName:"tr",align:null},"group(",(0,r.kt)("inlineCode",{parentName:"td"},"groupSize16Encoding"),")"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8ce3\u65b9 order book \u66f4\u65b0, \u6700\u591a 50 \u6a94.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"bids"),(0,r.kt)("td",{parentName:"tr",align:null},"41"),(0,r.kt)("td",{parentName:"tr",align:null},"group(",(0,r.kt)("inlineCode",{parentName:"td"},"groupSize16Encoding"),")"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8cb7\u65b9 order book \u66f4\u65b0, \u6700\u591a 50 \u6a94.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"symbol"),(0,r.kt)("td",{parentName:"tr",align:null},"55"),(0,r.kt)("td",{parentName:"tr",align:null},"varString8"),(0,r.kt)("td",{parentName:"tr",align:null},"UTF-8"),(0,r.kt)("td",{parentName:"tr",align:null},"1 \u4f4d\u9577\u5ea6 byte + \u5be6\u969b\u8cc7\u6599, \u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"td"},'0x07 "BTCUSDT"'),".")))),(0,r.kt)("h3",{id:"enum-pkgtypeenum-for-pkgtype"},"Enum: ",(0,r.kt)("inlineCode",{parentName:"h3"},"pkgTypeEnum")," (for ",(0,r.kt)("inlineCode",{parentName:"h3"},"pkgType"),")"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Meaning"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SNAPSHOT"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b8c\u6574\u7684 50 \u6a94 orderbook snapshot, \u672c\u5730 orderbook \u61c9\u5b8c\u5168\u88ab\u53d6\u4ee3.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"DELTA"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u6700\u65b0\u7684\u672c\u5730 orderbook \u4e0a\u5957\u7528\u589e\u91cf\u66f4\u65b0, \u53ea\u9700\u66f4\u65b0\u6216\u79fb\u9664\u51fa\u73fe\u5728\u8cc7\u6599\u4e2d\u7684\u50f9\u4f4d.")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u91cd\u8907\u7fa4\u7d44\u5143\u7d20\u683c\u5f0f-bidsasks"},"\u91cd\u8907\u7fa4\u7d44\u5143\u7d20\u683c\u5f0f (bids/asks)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parent Group"),(0,r.kt)("th",{parentName:"tr",align:null},"Element Field"),(0,r.kt)("th",{parentName:"tr",align:null},"SBE Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Unit / Format"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"asks / bids"),(0,r.kt)("td",{parentName:"tr",align:null},"price"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"mantissa"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9700\u5957\u7528 ",(0,r.kt)("inlineCode",{parentName:"td"},"priceExponent"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"asks / bids"),(0,r.kt)("td",{parentName:"tr",align:null},"size"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"mantissa"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9700\u5957\u7528 ",(0,r.kt)("inlineCode",{parentName:"td"},"sizeExponent"),".")))),(0,r.kt)("h3",{id:"asks-group"},"Asks Group"),(0,r.kt)("p",null,"\u8ce3\u65b9 orderbook \u66f4\u65b0."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field (id)"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"price (1)"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8ce3\u50f9 mantissa, \u986f\u793a\u50f9\u683c = ",(0,r.kt)("inlineCode",{parentName:"td"},"price \xd7 10^priceExponent"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"size  (2)"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8ce3\u91cf mantissa, \u986f\u793a\u6578\u91cf = ",(0,r.kt)("inlineCode",{parentName:"td"},"size \xd7 10^sizeExponent"),".")))),(0,r.kt)("h3",{id:"bids-group"},"Bids Group"),(0,r.kt)("p",null,"\u8cb7\u65b9 orderbook \u66f4\u65b0."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field (id)"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"price (1)"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8cb7\u50f9 mantissa, \u986f\u793a\u50f9\u683c = ",(0,r.kt)("inlineCode",{parentName:"td"},"price \xd7 10^priceExponent"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"size  (2)"),(0,r.kt)("td",{parentName:"tr",align:null},"int64"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8cb7\u91cf mantissa, \u986f\u793a\u6578\u91cf = ",(0,r.kt)("inlineCode",{parentName:"td"},"size \xd7 10^sizeExponent"),".")))),(0,r.kt)("p",null,"\u7fa4\u7d44\u7684\u7de8\u78bc\u9806\u5e8f\u70ba: ",(0,r.kt)("inlineCode",{parentName:"p"},"blockLength:uint16"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"numInGroup:uint16"),", \u7136\u5f8c\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"numInGroup")," \u500b\u5143\u7d20, \u6bcf\u500b\u5143\u7d20\u5927\u5c0f\u56fa\u5b9a\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"blockLength")," bytes.",(0,r.kt)("br",{parentName:"p"}),"\n","\u5728\u6b64 schema \u4e2d\u6bcf\u500b\u5143\u7d20\u70ba ",(0,r.kt)("strong",{parentName:"p"},"16 bytes")," (\u5169\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"int64"),")\u3002"),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u652f\u6301\u5fa9\u5408\u985e\u578b"},"\u652f\u6301\u5fa9\u5408\u985e\u578b"),(0,r.kt)("h3",{id:"varstring8-variable-string"},(0,r.kt)("inlineCode",{parentName:"h3"},"varString8")," (variable string)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Field"),(0,r.kt)("th",{parentName:"tr",align:null},"SBE Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"length"),(0,r.kt)("td",{parentName:"tr",align:null},"uint8"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f8c\u7e8c byte \u7684\u6578\u91cf.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"varData"),(0,r.kt)("td",{parentName:"tr",align:null},"uint8","[length]"),(0,r.kt)("td",{parentName:"tr",align:null},"UTF-8 \u5b57\u4e32 bytes.")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"sbe-\u9023\u63a5\u6578\u9650\u5236"},"SBE \u9023\u63a5\u6578\u9650\u5236"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Spot:")," \u6bcf\u500b\u5c08\u5c6c MMWS host \u9650\u5236 1500 \u689d\u9023\u63a5."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Futures (linear + inverse):")," \u6bcf\u500b\u5c08\u5c6c MMWS host \u9650\u5236 3000 \u689d\u9023\u63a5."),(0,r.kt)("li",{parentName:"ul"},"\u4e00\u65e6\u8d85\u904e\u9023\u63a5\u4e0a\u9650, \u65b0\u9023\u63a5\u6703\u8fd4\u56de ",(0,r.kt)("strong",{parentName:"li"},"HTTP 429"),"\u3002")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"\u63a5\u5165\u793a\u4f8b"},"\u63a5\u5165\u793a\u4f8b"),(0,r.kt)("h3",{id:"python"},"Python"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'# sbe_ob50_client.py\nimport asyncio\nimport websockets\nfrom typing import Tuple, List\n\nfrom bybit_sbe import MessageHeader, OBL50Event  # generated by SBE tool\nfrom orderbook import OrderBook\n\nWS_URL = "wss://stream.bybit.com/v5/market/sbe"  # example\nCHANNEL = "ob.50.sbe.BTCUSDT"  # example symbol\n\n\ndef decode_obl50(buf: bytes) -> OBL50Event:\n    """\n    Decode a single OBL50Event from binary buffer:\n    [messageHeader][OBL50Event]\n    """\n    header = MessageHeader()\n    header.wrap(buf, 0, 0, len(buf))\n\n    if header.templateId() != 20001:\n        raise ValueError(f"Unexpected templateId: {header.templateId()}")\n\n    msg = OBL50Event()\n    # message starts right after header.encodedLength()\n    msg.wrapForDecode(buf, header.encodedLength(), header.blockLength(), header.version())\n    return msg\n\n\ndef to_real(value: int, exponent: int) -> float:\n    # mantissa * 10^exponent\n    return value * (10 ** exponent)\n\n\ndef extract_levels(msg: OBL50Event) -> Tuple[List[Tuple[float, float]], List[Tuple[float, float]]]:\n    px_exp = msg.priceExponent()\n    sz_exp = msg.sizeExponent()\n\n    asks = []\n    bids = []\n\n    for ask in msg.asks():\n        p = to_real(ask.price(), px_exp)\n        s = to_real(ask.size(), sz_exp)\n        asks.append((p, s))\n\n    for bid in msg.bids():\n        p = to_real(bid.price(), px_exp)\n        s = to_real(bid.size(), sz_exp)\n        bids.append((p, s))\n\n    return asks, bids\n\n\nasync def handle_ob50_stream():\n    book = OrderBook()\n\n    async with websockets.connect(WS_URL) as ws:\n        # Subscribe \u2013 assuming JSON subscription wrapper for SBE binary\n        sub_msg = {\n            "op": "subscribe",\n            "args": [CHANNEL],\n        }\n        import json\n        await ws.send(json.dumps(sub_msg))\n\n        while True:\n            raw = await ws.recv()\n\n            # Some WS setups send binary frames for SBE\n            if isinstance(raw, str):\n                # ignore non-SBE control frames, pongs etc\n                continue\n\n            msg = decode_obl50(raw)\n            u = msg.u()\n            pkg_type = msg.pkgType()  # 0 = SNAPSHOT, 1 = DELTA\n            asks, bids = extract_levels(msg)\n\n            # continuity rule:\n            # if u == 1 => reset sequence\n            if u == 1:\n                # special snapshot (service restart / precision change)\n                book.bids.snapshot_from(bids)\n                book.asks.snapshot_from(asks)\n                book.last_u = 1\n                print(f"[RESET SNAPSHOT] u={u}, seq={msg.seq()}, symbol={msg.symbol()}")\n                continue\n\n            # for u != 1 => optional continuity check\n            if book.last_u != 0 and u != book.last_u + 1:\n                print(\n                    f"[WARN] u jump detected lastU={book.last_u}, newU={u} \u2013 resync recommended"\n                )\n                # you might resubscribe or request a recovery snapshot here\n\n            if pkg_type == 0:  # SNAPSHOT\n                book.bids.snapshot_from(bids)\n                book.asks.snapshot_from(asks)\n            else:  # DELTA\n                for p, s in asks:\n                    book.asks.apply_level(p, s)\n                for p, s in bids:\n                    book.bids.apply_level(p, s)\n\n            book.last_u = u\n\n            # Example: print top of book\n            best_bid = max(book.bids.levels.keys()) if book.bids.levels else None\n            best_ask = min(book.asks.levels.keys()) if book.asks.levels else None\n            print(f"u={u} pkgType={pkg_type} bestBid={best_bid} bestAsk={best_ask}")\n\n\nif __name__ == "__main__":\n    asyncio.run(handle_ob50_stream())\n')),(0,r.kt)("h3",{id:"golang"},"Golang"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'// sbe_ob50_client.go\npackage main\n\nimport (\n    "bytes"\n    "compress/flate"\n    "encoding/binary"\n    "encoding/json"\n    "fmt"\n    "log"\n    "math"\n    "time"\n\n    "github.com/gorilla/websocket"\n    "yourmodule/quote" // generated SBE package\n)\n\nconst (\n    WSURL   = "wss://stream.bybit.com/v5/market/sbe"\n    CHANNEL = "ob.50.sbe.BTCUSDT"\n)\n\nfunc toReal(mantissa int64, exponent int8) float64 {\n    return float64(mantissa) * math.Pow10(int(exponent))\n}\n\nfunc decodeOBL50(buf []byte) (*quote.OBL50Event, error) {\n    var hdr quote.MessageHeader\n    reader := bytes.NewReader(buf)\n\n    // decode messageHeader (little endian)\n    if err := binary.Read(reader, binary.LittleEndian, &hdr); err != nil {\n        return nil, fmt.Errorf("read header: %w", err)\n    }\n\n    if hdr.TemplateId != 20001 {\n        return nil, fmt.Errorf("unexpected templateId: %d", hdr.TemplateId)\n    }\n\n    var msg quote.OBL50Event\n    // many generators provide WrapForDecode; here assume we can read the fixed block then groups\n    if err := msg.Decode(reader, int(hdr.BlockLength), int(hdr.Version)); err != nil {\n        return nil, fmt.Errorf("decode OBL50: %w", err)\n    }\n\n    return &msg, nil\n}\n\nfunc main() {\n    book := NewOrderBook()\n\n    dialer := websocket.Dialer{\n        HandshakeTimeout: 10 * time.Second,\n        EnableCompression: false,\n    }\n\n    conn, _, err := dialer.Dial(WSURL, nil)\n    if err != nil {\n        log.Fatalf("dial: %v", err)\n    }\n    defer conn.Close()\n\n    // subscribe\n    sub := map[string]interface{}{\n        "op":   "subscribe",\n        "args": []string{CHANNEL},\n    }\n    if err := conn.WriteJSON(sub); err != nil {\n        log.Fatalf("subscribe: %v", err)\n    }\n\n    for {\n        mt, data, err := conn.ReadMessage()\n        if err != nil {\n            log.Fatalf("read: %v", err)\n        }\n\n        if mt == websocket.TextMessage {\n            // control JSON or pong etc\n            var m map[string]interface{}\n            _ = json.Unmarshal(data, &m)\n            continue\n        }\n\n        // if server wraps SBE in per-message deflate, you may need to decompress:\n        if isDeflatedFrame(data) {\n            data, err = inflate(data)\n            if err != nil {\n                log.Printf("inflate error: %v", err)\n                continue\n            }\n        }\n\n        msg, err := decodeOBL50(data)\n        if err != nil {\n            log.Printf("decode error: %v", err)\n            continue\n        }\n\n        u := msg.U\n        pkgType := msg.PkgType // 0 snapshot, 1 delta\n        pxExp := msg.PriceExponent\n        szExp := msg.SizeExponent\n\n        // extract levels\n        var asks, bids [][2]float64\n        for _, a := range msg.Asks {\n            p := toReal(a.Price, pxExp)\n            sz := toReal(a.Size, szExp)\n            asks = append(asks, [2]float64{p, sz})\n        }\n        for _, b := range msg.Bids {\n            p := toReal(b.Price, pxExp)\n            sz := toReal(b.Size, szExp)\n            bids = append(bids, [2]float64{p, sz})\n        }\n\n        // continuity logic:\n        if u == 1 {\n            // service restart / precision change snapshot\n            book.Asks.SnapshotFrom(asks)\n            book.Bids.SnapshotFrom(bids)\n            book.LastU = 1\n            fmt.Printf("[RESET SNAPSHOT] u=%d seq=%d symbol=%s\\n", u, msg.Seq, msg.Symbol)\n            continue\n        }\n\n        if book.LastU != 0 && u != book.LastU+1 {\n            log.Printf("[WARN] u jump: lastU=%d newU=%d \u2013 consider resync", book.LastU, u)\n        }\n\n        if pkgType == quote.PkgTypeEnum_SNAPSHOT {\n            book.Asks.SnapshotFrom(asks)\n            book.Bids.SnapshotFrom(bids)\n        } else {\n            for _, lv := range asks {\n                book.Asks.Apply(lv[0], lv[1])\n            }\n            for _, lv := range bids {\n                book.Bids.Apply(lv[0], lv[1])\n            }\n        }\n\n        book.LastU = u\n        bestBid := book.Bids.BestBid()\n        bestAsk := book.Asks.BestAsk()\n        fmt.Printf("u=%d pkgType=%d bestBid=%.5f bestAsk=%.5f\\n", u, pkgType, bestBid, bestAsk)\n    }\n}\n\n// helpers (optional, depending on ws framing)\nfunc isDeflatedFrame(data []byte) bool {\n    // placeholder: detect by protocol; many setups know from WS sub-protocol\n    return false\n}\n\nfunc inflate(data []byte) ([]byte, error) {\n    r := flate.NewReader(bytes.NewReader(data))\n    defer r.Close()\n\n    var out bytes.Buffer\n    if _, err := out.ReadFrom(r); err != nil {\n        return nil, err\n    }\n    return out.Bytes(), nil\n}\n')))}m.isMDXComponent=!0}}]);